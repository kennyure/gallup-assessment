2025-09-23 07:15:16,992 - werkzeug - WARNING -  * Debugger is active!
2025-09-23 08:32:45,851 - app.presentation.api.v1.endpoints.upload - INFO - File uploaded successfully: d5716384-d484-4b97-b373-667c48952ca0_Sales_Invoice.png (30753 bytes)
2025-09-23 08:32:45,870 - app.presentation.api.v1.endpoints.extraction - ERROR - Extraction error for document d5716384-d484-4b97-b373-667c48952ca0: AsyncClient.__init__() got an unexpected keyword argument 'proxies'
2025-09-23 08:33:25,192 - werkzeug - WARNING -  * Debugger is active!
2025-09-23 08:34:53,627 - app.presentation.api.v1.endpoints.upload - INFO - File uploaded successfully: 15e99755-36cd-41d1-8293-25c500c9f969_Sales_Invoice.png (30753 bytes)
2025-09-23 08:34:53,633 - app.presentation.api.v1.endpoints.extraction - ERROR - Extraction error for document 15e99755-36cd-41d1-8293-25c500c9f969: AsyncClient.__init__() got an unexpected keyword argument 'proxies'
2025-09-23 08:35:36,676 - werkzeug - WARNING -  * Debugger is active!
2025-09-23 08:36:09,667 - werkzeug - WARNING -  * Debugger is active!
2025-09-23 08:38:00,974 - werkzeug - WARNING -  * Debugger is active!
2025-09-23 08:38:50,396 - app.presentation.api.v1.endpoints.upload - INFO - File uploaded successfully: 06e04714-b0d8-4166-8bb8-08c01971f5fa_Sales_Invoice.png (30753 bytes)
2025-09-23 08:38:50,432 - app.infrastructure.ai.openai_client - INFO - Initialized OpenAI client with model: gpt-4o-2024-11-20
2025-09-23 08:38:50,432 - app.infrastructure.ai.openai_client - INFO - Starting extraction for document 06e04714-b0d8-4166-8bb8-08c01971f5fa
2025-09-23 08:38:53,063 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 401 Unauthorized"
2025-09-23 08:38:53,066 - app.infrastructure.ai.openai_client - ERROR - Failed to extract invoice data: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-proj-******************************************************************************************************************************Ml6z. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-09-23 08:41:46,965 - werkzeug - WARNING -  * Debugger is active!
2025-09-23 08:41:49,637 - app.presentation.api.v1.endpoints.upload - INFO - File uploaded successfully: d0f84801-1fce-48f2-87c1-2731578b0f05_Sales_Invoice.png (30753 bytes)
2025-09-23 08:41:49,689 - app.infrastructure.ai.openai_client - INFO - Initialized OpenAI client with model: gpt-4o-2024-11-20
2025-09-23 08:41:49,689 - app.infrastructure.ai.openai_client - INFO - Starting extraction for document d0f84801-1fce-48f2-87c1-2731578b0f05
2025-09-23 08:41:58,468 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 08:41:58,483 - app.infrastructure.ai.openai_client - ERROR - Failed to extract invoice data: 3 validation errors for InvoiceData
billing_address.phone
  Value error, Phone number must be at least 10 digits [type=value_error, input_value='[Phone]', input_type=str]
    For further information visit https://errors.pydantic.dev/2.9/v/value_error
shipping_address.phone
  Value error, Phone number must be at least 10 digits [type=value_error, input_value='[Phone]', input_type=str]
    For further information visit https://errors.pydantic.dev/2.9/v/value_error
tax
  Value error, Tax 157.84 does not match calculated tax 156.9375 [type=value_error, input_value=157.84, input_type=float]
    For further information visit https://errors.pydantic.dev/2.9/v/value_error
2025-09-23 08:43:26,802 - werkzeug - WARNING -  * Debugger is active!
2025-09-23 08:43:35,896 - werkzeug - WARNING -  * Debugger is active!
2025-09-23 08:43:55,855 - app.presentation.api.v1.endpoints.upload - INFO - File uploaded successfully: 755cafb7-52ea-4337-ac40-778c49e97f2b_Sales_Invoice.png (30753 bytes)
2025-09-23 08:43:55,888 - app.infrastructure.ai.openai_client - INFO - Initialized OpenAI client with model: gpt-4o-2024-11-20
2025-09-23 08:43:55,888 - app.infrastructure.ai.openai_client - INFO - Starting extraction for document 755cafb7-52ea-4337-ac40-778c49e97f2b
2025-09-23 08:44:01,850 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 08:44:01,863 - app.infrastructure.ai.openai_client - ERROR - Failed to extract invoice data: 1 validation error for InvoiceData
total
  Value error, Total 2484.84 does not match calculated total 2482.84 [type=value_error, input_value=2484.84, input_type=float]
    For further information visit https://errors.pydantic.dev/2.9/v/value_error
2025-09-23 08:44:34,927 - werkzeug - WARNING -  * Debugger is active!
2025-09-23 08:45:10,892 - app.presentation.api.v1.endpoints.upload - INFO - File uploaded successfully: fcf73107-687c-4dc8-99be-7d525dd32378_Sales_Invoice.png (30753 bytes)
2025-09-23 08:45:10,941 - app.infrastructure.ai.openai_client - INFO - Initialized OpenAI client with model: gpt-4o-2024-11-20
2025-09-23 08:45:10,941 - app.infrastructure.ai.openai_client - INFO - Starting extraction for document fcf73107-687c-4dc8-99be-7d525dd32378
2025-09-23 08:45:22,777 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 08:45:22,802 - app.infrastructure.ai.openai_client - INFO - Successfully extracted data for invoice: 123-456 in 11.86s
2025-09-23 08:45:22,804 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 08:45:22,810 - app.infrastructure.data.csv_manager - INFO - Created new invoices CSV file: data/invoices.csv
2025-09-23 08:45:22,810 - app.infrastructure.data.csv_manager - INFO - Created new invoice details CSV file: data/invoice_details.csv
2025-09-23 08:45:22,810 - app.infrastructure.data.csv_manager - INFO - Saved invoice 123-456 with ID 123-456
2025-09-23 08:45:22,810 - app.presentation.api.v1.endpoints.extraction - INFO - Successfully extracted and saved invoice: 123-456
2025-09-23 08:46:53,994 - werkzeug - WARNING -  * Debugger is active!
2025-09-23 08:46:59,886 - werkzeug - WARNING -  * Debugger is active!
2025-09-23 08:47:12,231 - werkzeug - WARNING -  * Debugger is active!
2025-09-23 08:48:33,717 - werkzeug - WARNING -  * Debugger is active!
2025-09-23 08:49:36,725 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 08:49:36,726 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 08:49:36,738 - app.infrastructure.data.csv_manager - INFO - Loaded 1 invoices from CSV
2025-09-23 08:49:36,739 - app.infrastructure.data.csv_manager - INFO - Loaded 1 invoices from CSV
2025-09-23 08:49:36,741 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoice details from CSV
2025-09-23 08:49:36,742 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoice details from CSV
2025-09-23 08:49:36,742 - app.infrastructure.data.csv_manager - INFO - Retrieved 1 invoices with details
2025-09-23 08:49:36,743 - app.infrastructure.data.csv_manager - INFO - Generated statistics: {'total_invoices': 1, 'total_items': 2, 'total_amount': 2482.84, 'last_updated': '2025-09-23T08:49:36.742720', 'files_exist': {'invoices_csv': True, 'details_csv': True}}
2025-09-23 08:49:36,745 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 08:49:36,745 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 08:49:36,748 - app.infrastructure.data.csv_manager - INFO - Loaded 1 invoices from CSV
2025-09-23 08:49:36,751 - app.infrastructure.data.csv_manager - INFO - Loaded 1 invoices from CSV
2025-09-23 08:49:36,752 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoice details from CSV
2025-09-23 08:49:36,752 - app.infrastructure.data.csv_manager - INFO - Retrieved 1 invoices with details
2025-09-23 08:49:36,754 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoice details from CSV
2025-09-23 08:49:36,754 - app.infrastructure.data.csv_manager - INFO - Generated statistics: {'total_invoices': 1, 'total_items': 2, 'total_amount': 2482.84, 'last_updated': '2025-09-23T08:49:36.754582', 'files_exist': {'invoices_csv': True, 'details_csv': True}}
2025-09-23 08:49:41,638 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 08:49:41,638 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 08:49:41,643 - app.infrastructure.data.csv_manager - INFO - Loaded 1 invoices from CSV
2025-09-23 08:49:41,645 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoice details from CSV
2025-09-23 08:49:41,645 - app.infrastructure.data.csv_manager - INFO - Retrieved 1 invoices with details
2025-09-23 08:49:41,647 - app.infrastructure.data.csv_manager - INFO - Loaded 1 invoices from CSV
2025-09-23 08:49:41,649 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoice details from CSV
2025-09-23 08:49:41,649 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 08:49:41,649 - app.infrastructure.data.csv_manager - INFO - Generated statistics: {'total_invoices': 1, 'total_items': 2, 'total_amount': 2482.84, 'last_updated': '2025-09-23T08:49:41.649246', 'files_exist': {'invoices_csv': True, 'details_csv': True}}
2025-09-23 08:49:41,652 - app.infrastructure.data.csv_manager - INFO - Loaded 1 invoices from CSV
2025-09-23 08:49:41,653 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 08:49:41,654 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoice details from CSV
2025-09-23 08:49:41,654 - app.infrastructure.data.csv_manager - INFO - Retrieved 1 invoices with details
2025-09-23 08:49:41,657 - app.infrastructure.data.csv_manager - INFO - Loaded 1 invoices from CSV
2025-09-23 08:49:41,658 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoice details from CSV
2025-09-23 08:49:41,658 - app.infrastructure.data.csv_manager - INFO - Generated statistics: {'total_invoices': 1, 'total_items': 2, 'total_amount': 2482.84, 'last_updated': '2025-09-23T08:49:41.658272', 'files_exist': {'invoices_csv': True, 'details_csv': True}}
2025-09-23 08:49:57,205 - app.presentation.api.v1.endpoints.upload - INFO - File uploaded successfully: d038e9f1-ffd9-4b9d-b9b4-1f50bb8fc786_Sales_Invoice.png (30753 bytes)
2025-09-23 08:49:57,243 - app.infrastructure.ai.openai_client - INFO - Initialized OpenAI client with model: gpt-4o-2024-11-20
2025-09-23 08:49:57,244 - app.infrastructure.ai.openai_client - INFO - Starting extraction for document d038e9f1-ffd9-4b9d-b9b4-1f50bb8fc786
2025-09-23 08:50:13,646 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 08:50:13,679 - app.infrastructure.ai.openai_client - INFO - Successfully extracted data for invoice: 123-456 in 16.44s
2025-09-23 08:50:13,680 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 08:50:13,686 - app.infrastructure.data.csv_manager - INFO - Saved invoice 123-456 with ID 123-456
2025-09-23 08:50:13,686 - app.presentation.api.v1.endpoints.extraction - INFO - Successfully extracted and saved invoice: 123-456
2025-09-23 17:31:21,239 - werkzeug - WARNING -  * Debugger is active!
2025-09-23 17:31:34,759 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 17:31:34,761 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 17:31:34,775 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoices from CSV
2025-09-23 17:31:34,776 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoices from CSV
2025-09-23 17:31:34,779 - app.infrastructure.data.csv_manager - INFO - Loaded 4 invoice details from CSV
2025-09-23 17:31:34,780 - app.infrastructure.data.csv_manager - INFO - Loaded 4 invoice details from CSV
2025-09-23 17:31:34,780 - app.infrastructure.data.csv_manager - INFO - Retrieved 2 invoices with details
2025-09-23 17:31:34,780 - app.infrastructure.data.csv_manager - INFO - Generated statistics: {'total_invoices': 2, 'total_items': 4, 'total_amount': 4965.68, 'last_updated': '2025-09-23T17:31:34.780588', 'files_exist': {'invoices_csv': True, 'details_csv': True}}
2025-09-23 17:31:34,783 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 17:31:34,784 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 17:31:34,786 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoices from CSV
2025-09-23 17:31:34,789 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoices from CSV
2025-09-23 17:31:34,790 - app.infrastructure.data.csv_manager - INFO - Loaded 4 invoice details from CSV
2025-09-23 17:31:34,790 - app.infrastructure.data.csv_manager - INFO - Retrieved 2 invoices with details
2025-09-23 17:31:34,791 - app.infrastructure.data.csv_manager - INFO - Loaded 4 invoice details from CSV
2025-09-23 17:31:34,792 - app.infrastructure.data.csv_manager - INFO - Generated statistics: {'total_invoices': 2, 'total_items': 4, 'total_amount': 4965.68, 'last_updated': '2025-09-23T17:31:34.791877', 'files_exist': {'invoices_csv': True, 'details_csv': True}}
2025-09-23 17:32:20,162 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 17:32:20,163 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 17:32:20,167 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoices from CSV
2025-09-23 17:32:20,170 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoices from CSV
2025-09-23 17:32:20,171 - app.infrastructure.data.csv_manager - INFO - Loaded 4 invoice details from CSV
2025-09-23 17:32:20,171 - app.infrastructure.data.csv_manager - INFO - Generated statistics: {'total_invoices': 2, 'total_items': 4, 'total_amount': 4965.68, 'last_updated': '2025-09-23T17:32:20.171590', 'files_exist': {'invoices_csv': True, 'details_csv': True}}
2025-09-23 17:32:20,172 - app.infrastructure.data.csv_manager - INFO - Loaded 4 invoice details from CSV
2025-09-23 17:32:20,172 - app.infrastructure.data.csv_manager - INFO - Retrieved 2 invoices with details
2025-09-23 17:32:20,173 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 17:32:20,174 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 17:32:20,176 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoices from CSV
2025-09-23 17:32:20,177 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoices from CSV
2025-09-23 17:32:20,178 - app.infrastructure.data.csv_manager - INFO - Loaded 4 invoice details from CSV
2025-09-23 17:32:20,179 - app.infrastructure.data.csv_manager - INFO - Generated statistics: {'total_invoices': 2, 'total_items': 4, 'total_amount': 4965.68, 'last_updated': '2025-09-23T17:32:20.179090', 'files_exist': {'invoices_csv': True, 'details_csv': True}}
2025-09-23 17:32:20,180 - app.infrastructure.data.csv_manager - INFO - Loaded 4 invoice details from CSV
2025-09-23 17:32:20,180 - app.infrastructure.data.csv_manager - INFO - Retrieved 2 invoices with details
2025-09-23 17:32:21,588 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 17:32:21,589 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 17:32:21,594 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoices from CSV
2025-09-23 17:32:21,597 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoices from CSV
2025-09-23 17:32:21,598 - app.infrastructure.data.csv_manager - INFO - Loaded 4 invoice details from CSV
2025-09-23 17:32:21,599 - app.infrastructure.data.csv_manager - INFO - Generated statistics: {'total_invoices': 2, 'total_items': 4, 'total_amount': 4965.68, 'last_updated': '2025-09-23T17:32:21.598953', 'files_exist': {'invoices_csv': True, 'details_csv': True}}
2025-09-23 17:32:21,600 - app.infrastructure.data.csv_manager - INFO - Loaded 4 invoice details from CSV
2025-09-23 17:32:21,600 - app.infrastructure.data.csv_manager - INFO - Retrieved 2 invoices with details
2025-09-23 17:32:21,602 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 17:32:21,602 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 17:32:21,606 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoices from CSV
2025-09-23 17:32:21,606 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoices from CSV
2025-09-23 17:32:21,608 - app.infrastructure.data.csv_manager - INFO - Loaded 4 invoice details from CSV
2025-09-23 17:32:21,608 - app.infrastructure.data.csv_manager - INFO - Loaded 4 invoice details from CSV
2025-09-23 17:32:21,609 - app.infrastructure.data.csv_manager - INFO - Generated statistics: {'total_invoices': 2, 'total_items': 4, 'total_amount': 4965.68, 'last_updated': '2025-09-23T17:32:21.609143', 'files_exist': {'invoices_csv': True, 'details_csv': True}}
2025-09-23 17:32:21,609 - app.infrastructure.data.csv_manager - INFO - Retrieved 2 invoices with details
2025-09-23 17:33:13,331 - werkzeug - WARNING -  * Debugger is active!
2025-09-23 17:33:24,676 - werkzeug - WARNING -  * Debugger is active!
2025-09-23 17:33:38,928 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 17:33:38,929 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 17:33:38,938 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoices from CSV
2025-09-23 17:33:38,939 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoices from CSV
2025-09-23 17:33:38,941 - app.infrastructure.data.csv_manager - INFO - Loaded 4 invoice details from CSV
2025-09-23 17:33:38,941 - app.infrastructure.data.csv_manager - INFO - Retrieved 2 invoices with details
2025-09-23 17:33:38,942 - app.infrastructure.data.csv_manager - INFO - Loaded 4 invoice details from CSV
2025-09-23 17:33:38,943 - app.infrastructure.data.csv_manager - INFO - Generated statistics: {'total_invoices': 2, 'total_items': 4, 'total_amount': 4965.68, 'last_updated': '2025-09-23T17:33:38.943940', 'files_exist': {'invoices_csv': True, 'details_csv': True}}
2025-09-23 17:33:38,945 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 17:33:38,945 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 17:33:38,949 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoices from CSV
2025-09-23 17:33:38,950 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoices from CSV
2025-09-23 17:33:38,952 - app.infrastructure.data.csv_manager - INFO - Loaded 4 invoice details from CSV
2025-09-23 17:33:38,952 - app.infrastructure.data.csv_manager - INFO - Generated statistics: {'total_invoices': 2, 'total_items': 4, 'total_amount': 4965.68, 'last_updated': '2025-09-23T17:33:38.952184', 'files_exist': {'invoices_csv': True, 'details_csv': True}}
2025-09-23 17:33:38,953 - app.infrastructure.data.csv_manager - INFO - Loaded 4 invoice details from CSV
2025-09-23 17:33:38,954 - app.infrastructure.data.csv_manager - INFO - Retrieved 2 invoices with details
2025-09-23 17:34:33,102 - werkzeug - WARNING -  * Debugger is active!
2025-09-23 17:34:41,229 - werkzeug - WARNING -  * Debugger is active!
2025-09-23 17:35:08,288 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 17:35:08,289 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 17:35:08,296 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoices from CSV
2025-09-23 17:35:08,297 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoices from CSV
2025-09-23 17:35:08,298 - app.infrastructure.data.csv_manager - INFO - Loaded 4 invoice details from CSV
2025-09-23 17:35:08,299 - app.infrastructure.data.csv_manager - INFO - Loaded 4 invoice details from CSV
2025-09-23 17:35:08,299 - app.infrastructure.data.csv_manager - INFO - Retrieved 2 invoices with details
2025-09-23 17:35:08,299 - app.infrastructure.data.csv_manager - INFO - Generated statistics: {'total_invoices': 2, 'total_items': 4, 'total_amount': 4965.68, 'last_updated': '2025-09-23T17:35:08.299087', 'files_exist': {'invoices_csv': True, 'details_csv': True}}
2025-09-23 17:35:08,299 - app.presentation.api.v1.endpoints.invoices - INFO - Raw invoices from data manager: 2 invoices
2025-09-23 17:35:08,300 - app.presentation.api.v1.endpoints.invoices - INFO - Sample invoice data: {'id': '123-456', 'invoice_number': '123-456', 'invoice_date': '2014-05-01T00:00:00+00:00', 'customer_id': 123, 'customer_name': '[Company Name]', 'billing_street': '[Street Address]', 'billing_city': '[City]', 'billing_state': '[ST]', 'billing_zip': '[ZIP]', 'billing_phone': '[Phone]', 'shipping_street': '[Street Address]', 'shipping_city': '[City]', 'shipping_state': '[ST]', 'shipping_zip': '[ZIP]', 'shipping_phone': '[Phone]', 'subtotal': 2325.0, 'tax_rate': 0.0675, 'tax_amount': 157.84, 'total_amount': 2482.84, 'salesperson': nan, 'po_number': nan, 'terms': 'Total payment due in 30 days', 'ship_date': nan, 'ship_via': nan, 'fob': nan, 'created_at': '2014-05-01T00:00:00+00:00', 'extraction_confidence': 0.99, 'items': [{'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2014-05-01T00:00:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2014-05-01T00:00:00+00:00'}, {'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2023-10-11T18:35:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2023-10-11T18:35:00+00:00'}]}
2025-09-23 17:35:08,301 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 17:35:08,302 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 17:35:08,304 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoices from CSV
2025-09-23 17:35:08,306 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoices from CSV
2025-09-23 17:35:08,307 - app.infrastructure.data.csv_manager - INFO - Loaded 4 invoice details from CSV
2025-09-23 17:35:08,307 - app.infrastructure.data.csv_manager - INFO - Retrieved 2 invoices with details
2025-09-23 17:35:08,308 - app.infrastructure.data.csv_manager - INFO - Loaded 4 invoice details from CSV
2025-09-23 17:35:08,308 - app.presentation.api.v1.endpoints.invoices - INFO - Raw invoices from data manager: 2 invoices
2025-09-23 17:35:08,308 - app.presentation.api.v1.endpoints.invoices - INFO - Sample invoice data: {'id': '123-456', 'invoice_number': '123-456', 'invoice_date': '2014-05-01T00:00:00+00:00', 'customer_id': 123, 'customer_name': '[Company Name]', 'billing_street': '[Street Address]', 'billing_city': '[City]', 'billing_state': '[ST]', 'billing_zip': '[ZIP]', 'billing_phone': '[Phone]', 'shipping_street': '[Street Address]', 'shipping_city': '[City]', 'shipping_state': '[ST]', 'shipping_zip': '[ZIP]', 'shipping_phone': '[Phone]', 'subtotal': 2325.0, 'tax_rate': 0.0675, 'tax_amount': 157.84, 'total_amount': 2482.84, 'salesperson': nan, 'po_number': nan, 'terms': 'Total payment due in 30 days', 'ship_date': nan, 'ship_via': nan, 'fob': nan, 'created_at': '2014-05-01T00:00:00+00:00', 'extraction_confidence': 0.99, 'items': [{'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2014-05-01T00:00:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2014-05-01T00:00:00+00:00'}, {'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2023-10-11T18:35:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2023-10-11T18:35:00+00:00'}]}
2025-09-23 17:35:08,308 - app.infrastructure.data.csv_manager - INFO - Generated statistics: {'total_invoices': 2, 'total_items': 4, 'total_amount': 4965.68, 'last_updated': '2025-09-23T17:35:08.308289', 'files_exist': {'invoices_csv': True, 'details_csv': True}}
2025-09-23 17:35:37,727 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 17:35:37,729 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 17:35:37,732 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoices from CSV
2025-09-23 17:35:37,735 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoices from CSV
2025-09-23 17:35:37,736 - app.infrastructure.data.csv_manager - INFO - Loaded 4 invoice details from CSV
2025-09-23 17:35:37,736 - app.infrastructure.data.csv_manager - INFO - Retrieved 2 invoices with details
2025-09-23 17:35:37,736 - app.presentation.api.v1.endpoints.invoices - INFO - Raw invoices from data manager: 2 invoices
2025-09-23 17:35:37,737 - app.infrastructure.data.csv_manager - INFO - Loaded 4 invoice details from CSV
2025-09-23 17:35:37,737 - app.presentation.api.v1.endpoints.invoices - INFO - Sample invoice data: {'id': '123-456', 'invoice_number': '123-456', 'invoice_date': '2014-05-01T00:00:00+00:00', 'customer_id': 123, 'customer_name': '[Company Name]', 'billing_street': '[Street Address]', 'billing_city': '[City]', 'billing_state': '[ST]', 'billing_zip': '[ZIP]', 'billing_phone': '[Phone]', 'shipping_street': '[Street Address]', 'shipping_city': '[City]', 'shipping_state': '[ST]', 'shipping_zip': '[ZIP]', 'shipping_phone': '[Phone]', 'subtotal': 2325.0, 'tax_rate': 0.0675, 'tax_amount': 157.84, 'total_amount': 2482.84, 'salesperson': nan, 'po_number': nan, 'terms': 'Total payment due in 30 days', 'ship_date': nan, 'ship_via': nan, 'fob': nan, 'created_at': '2014-05-01T00:00:00+00:00', 'extraction_confidence': 0.99, 'items': [{'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2014-05-01T00:00:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2014-05-01T00:00:00+00:00'}, {'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2023-10-11T18:35:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2023-10-11T18:35:00+00:00'}]}
2025-09-23 17:35:37,738 - app.infrastructure.data.csv_manager - INFO - Generated statistics: {'total_invoices': 2, 'total_items': 4, 'total_amount': 4965.68, 'last_updated': '2025-09-23T17:35:37.737653', 'files_exist': {'invoices_csv': True, 'details_csv': True}}
2025-09-23 17:35:37,740 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 17:35:37,740 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 17:35:37,743 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoices from CSV
2025-09-23 17:35:37,744 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoices from CSV
2025-09-23 17:35:37,745 - app.infrastructure.data.csv_manager - INFO - Loaded 4 invoice details from CSV
2025-09-23 17:35:37,746 - app.infrastructure.data.csv_manager - INFO - Loaded 4 invoice details from CSV
2025-09-23 17:35:37,747 - app.infrastructure.data.csv_manager - INFO - Generated statistics: {'total_invoices': 2, 'total_items': 4, 'total_amount': 4965.68, 'last_updated': '2025-09-23T17:35:37.746983', 'files_exist': {'invoices_csv': True, 'details_csv': True}}
2025-09-23 17:35:37,747 - app.infrastructure.data.csv_manager - INFO - Retrieved 2 invoices with details
2025-09-23 17:35:37,747 - app.presentation.api.v1.endpoints.invoices - INFO - Raw invoices from data manager: 2 invoices
2025-09-23 17:35:37,747 - app.presentation.api.v1.endpoints.invoices - INFO - Sample invoice data: {'id': '123-456', 'invoice_number': '123-456', 'invoice_date': '2014-05-01T00:00:00+00:00', 'customer_id': 123, 'customer_name': '[Company Name]', 'billing_street': '[Street Address]', 'billing_city': '[City]', 'billing_state': '[ST]', 'billing_zip': '[ZIP]', 'billing_phone': '[Phone]', 'shipping_street': '[Street Address]', 'shipping_city': '[City]', 'shipping_state': '[ST]', 'shipping_zip': '[ZIP]', 'shipping_phone': '[Phone]', 'subtotal': 2325.0, 'tax_rate': 0.0675, 'tax_amount': 157.84, 'total_amount': 2482.84, 'salesperson': nan, 'po_number': nan, 'terms': 'Total payment due in 30 days', 'ship_date': nan, 'ship_via': nan, 'fob': nan, 'created_at': '2014-05-01T00:00:00+00:00', 'extraction_confidence': 0.99, 'items': [{'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2014-05-01T00:00:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2014-05-01T00:00:00+00:00'}, {'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2023-10-11T18:35:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2023-10-11T18:35:00+00:00'}]}
2025-09-23 17:36:13,487 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 17:36:13,488 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 17:36:13,493 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoices from CSV
2025-09-23 17:36:13,495 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoices from CSV
2025-09-23 17:36:13,497 - app.infrastructure.data.csv_manager - INFO - Loaded 4 invoice details from CSV
2025-09-23 17:36:13,498 - app.infrastructure.data.csv_manager - INFO - Loaded 4 invoice details from CSV
2025-09-23 17:36:13,498 - app.infrastructure.data.csv_manager - INFO - Generated statistics: {'total_invoices': 2, 'total_items': 4, 'total_amount': 4965.68, 'last_updated': '2025-09-23T17:36:13.497401', 'files_exist': {'invoices_csv': True, 'details_csv': True}}
2025-09-23 17:36:13,498 - app.infrastructure.data.csv_manager - INFO - Retrieved 2 invoices with details
2025-09-23 17:36:13,499 - app.presentation.api.v1.endpoints.invoices - INFO - Raw invoices from data manager: 2 invoices
2025-09-23 17:36:13,499 - app.presentation.api.v1.endpoints.invoices - INFO - Sample invoice data: {'id': '123-456', 'invoice_number': '123-456', 'invoice_date': '2014-05-01T00:00:00+00:00', 'customer_id': 123, 'customer_name': '[Company Name]', 'billing_street': '[Street Address]', 'billing_city': '[City]', 'billing_state': '[ST]', 'billing_zip': '[ZIP]', 'billing_phone': '[Phone]', 'shipping_street': '[Street Address]', 'shipping_city': '[City]', 'shipping_state': '[ST]', 'shipping_zip': '[ZIP]', 'shipping_phone': '[Phone]', 'subtotal': 2325.0, 'tax_rate': 0.0675, 'tax_amount': 157.84, 'total_amount': 2482.84, 'salesperson': nan, 'po_number': nan, 'terms': 'Total payment due in 30 days', 'ship_date': nan, 'ship_via': nan, 'fob': nan, 'created_at': '2014-05-01T00:00:00+00:00', 'extraction_confidence': 0.99, 'items': [{'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2014-05-01T00:00:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2014-05-01T00:00:00+00:00'}, {'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2023-10-11T18:35:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2023-10-11T18:35:00+00:00'}]}
2025-09-23 17:36:13,500 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 17:36:13,501 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 17:36:13,504 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoices from CSV
2025-09-23 17:36:13,505 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoices from CSV
2025-09-23 17:36:13,506 - app.infrastructure.data.csv_manager - INFO - Loaded 4 invoice details from CSV
2025-09-23 17:36:13,506 - app.infrastructure.data.csv_manager - INFO - Retrieved 2 invoices with details
2025-09-23 17:36:13,507 - app.presentation.api.v1.endpoints.invoices - INFO - Raw invoices from data manager: 2 invoices
2025-09-23 17:36:13,507 - app.presentation.api.v1.endpoints.invoices - INFO - Sample invoice data: {'id': '123-456', 'invoice_number': '123-456', 'invoice_date': '2014-05-01T00:00:00+00:00', 'customer_id': 123, 'customer_name': '[Company Name]', 'billing_street': '[Street Address]', 'billing_city': '[City]', 'billing_state': '[ST]', 'billing_zip': '[ZIP]', 'billing_phone': '[Phone]', 'shipping_street': '[Street Address]', 'shipping_city': '[City]', 'shipping_state': '[ST]', 'shipping_zip': '[ZIP]', 'shipping_phone': '[Phone]', 'subtotal': 2325.0, 'tax_rate': 0.0675, 'tax_amount': 157.84, 'total_amount': 2482.84, 'salesperson': nan, 'po_number': nan, 'terms': 'Total payment due in 30 days', 'ship_date': nan, 'ship_via': nan, 'fob': nan, 'created_at': '2014-05-01T00:00:00+00:00', 'extraction_confidence': 0.99, 'items': [{'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2014-05-01T00:00:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2014-05-01T00:00:00+00:00'}, {'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2023-10-11T18:35:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2023-10-11T18:35:00+00:00'}]}
2025-09-23 17:36:13,507 - app.infrastructure.data.csv_manager - INFO - Loaded 4 invoice details from CSV
2025-09-23 17:36:13,508 - app.infrastructure.data.csv_manager - INFO - Generated statistics: {'total_invoices': 2, 'total_items': 4, 'total_amount': 4965.68, 'last_updated': '2025-09-23T17:36:13.508384', 'files_exist': {'invoices_csv': True, 'details_csv': True}}
2025-09-23 17:36:24,181 - werkzeug - WARNING -  * Debugger is active!
2025-09-23 17:36:30,979 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 17:36:30,990 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoices from CSV
2025-09-23 17:36:30,992 - app.infrastructure.data.csv_manager - INFO - Loaded 4 invoice details from CSV
2025-09-23 17:36:30,992 - app.infrastructure.data.csv_manager - INFO - Retrieved 2 invoices with details
2025-09-23 17:36:30,992 - app.presentation.api.v1.endpoints.invoices - INFO - Raw invoices from data manager: 2 invoices
2025-09-23 17:36:30,992 - app.presentation.api.v1.endpoints.invoices - INFO - Sample invoice data: {'id': '123-456', 'invoice_number': '123-456', 'invoice_date': '2014-05-01T00:00:00+00:00', 'customer_id': 123, 'customer_name': '[Company Name]', 'billing_street': '[Street Address]', 'billing_city': '[City]', 'billing_state': '[ST]', 'billing_zip': '[ZIP]', 'billing_phone': '[Phone]', 'shipping_street': '[Street Address]', 'shipping_city': '[City]', 'shipping_state': '[ST]', 'shipping_zip': '[ZIP]', 'shipping_phone': '[Phone]', 'subtotal': 2325.0, 'tax_rate': 0.0675, 'tax_amount': 157.84, 'total_amount': 2482.84, 'salesperson': '', 'po_number': '', 'terms': 'Total payment due in 30 days', 'ship_date': '', 'ship_via': '', 'fob': '', 'created_at': '2014-05-01T00:00:00+00:00', 'extraction_confidence': 0.99, 'items': [{'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2014-05-01T00:00:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2014-05-01T00:00:00+00:00'}, {'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2023-10-11T18:35:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2023-10-11T18:35:00+00:00'}]}
2025-09-23 17:37:27,214 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 17:37:27,214 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 17:37:27,229 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoices from CSV
2025-09-23 17:37:27,233 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoices from CSV
2025-09-23 17:37:27,235 - app.infrastructure.data.csv_manager - INFO - Loaded 4 invoice details from CSV
2025-09-23 17:37:27,236 - app.infrastructure.data.csv_manager - INFO - Loaded 4 invoice details from CSV
2025-09-23 17:37:27,238 - app.infrastructure.data.csv_manager - INFO - Generated statistics: {'total_invoices': 2, 'total_items': 4, 'total_amount': 4965.68, 'last_updated': '2025-09-23T17:37:27.238604', 'files_exist': {'invoices_csv': True, 'details_csv': True}}
2025-09-23 17:37:27,238 - app.infrastructure.data.csv_manager - INFO - Retrieved 2 invoices with details
2025-09-23 17:37:27,239 - app.presentation.api.v1.endpoints.invoices - INFO - Raw invoices from data manager: 2 invoices
2025-09-23 17:37:27,239 - app.presentation.api.v1.endpoints.invoices - INFO - Sample invoice data: {'id': '123-456', 'invoice_number': '123-456', 'invoice_date': '2014-05-01T00:00:00+00:00', 'customer_id': 123, 'customer_name': '[Company Name]', 'billing_street': '[Street Address]', 'billing_city': '[City]', 'billing_state': '[ST]', 'billing_zip': '[ZIP]', 'billing_phone': '[Phone]', 'shipping_street': '[Street Address]', 'shipping_city': '[City]', 'shipping_state': '[ST]', 'shipping_zip': '[ZIP]', 'shipping_phone': '[Phone]', 'subtotal': 2325.0, 'tax_rate': 0.0675, 'tax_amount': 157.84, 'total_amount': 2482.84, 'salesperson': '', 'po_number': '', 'terms': 'Total payment due in 30 days', 'ship_date': '', 'ship_via': '', 'fob': '', 'created_at': '2014-05-01T00:00:00+00:00', 'extraction_confidence': 0.99, 'items': [{'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2014-05-01T00:00:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2014-05-01T00:00:00+00:00'}, {'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2023-10-11T18:35:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2023-10-11T18:35:00+00:00'}]}
2025-09-23 17:37:27,241 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 17:37:27,241 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 17:37:27,245 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoices from CSV
2025-09-23 17:37:27,250 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoices from CSV
2025-09-23 17:37:27,252 - app.infrastructure.data.csv_manager - INFO - Loaded 4 invoice details from CSV
2025-09-23 17:37:27,252 - app.infrastructure.data.csv_manager - INFO - Generated statistics: {'total_invoices': 2, 'total_items': 4, 'total_amount': 4965.68, 'last_updated': '2025-09-23T17:37:27.252448', 'files_exist': {'invoices_csv': True, 'details_csv': True}}
2025-09-23 17:37:27,255 - app.infrastructure.data.csv_manager - INFO - Loaded 4 invoice details from CSV
2025-09-23 17:37:27,255 - app.infrastructure.data.csv_manager - INFO - Retrieved 2 invoices with details
2025-09-23 17:37:27,255 - app.presentation.api.v1.endpoints.invoices - INFO - Raw invoices from data manager: 2 invoices
2025-09-23 17:37:27,256 - app.presentation.api.v1.endpoints.invoices - INFO - Sample invoice data: {'id': '123-456', 'invoice_number': '123-456', 'invoice_date': '2014-05-01T00:00:00+00:00', 'customer_id': 123, 'customer_name': '[Company Name]', 'billing_street': '[Street Address]', 'billing_city': '[City]', 'billing_state': '[ST]', 'billing_zip': '[ZIP]', 'billing_phone': '[Phone]', 'shipping_street': '[Street Address]', 'shipping_city': '[City]', 'shipping_state': '[ST]', 'shipping_zip': '[ZIP]', 'shipping_phone': '[Phone]', 'subtotal': 2325.0, 'tax_rate': 0.0675, 'tax_amount': 157.84, 'total_amount': 2482.84, 'salesperson': '', 'po_number': '', 'terms': 'Total payment due in 30 days', 'ship_date': '', 'ship_via': '', 'fob': '', 'created_at': '2014-05-01T00:00:00+00:00', 'extraction_confidence': 0.99, 'items': [{'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2014-05-01T00:00:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2014-05-01T00:00:00+00:00'}, {'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2023-10-11T18:35:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2023-10-11T18:35:00+00:00'}]}
2025-09-23 17:38:22,381 - werkzeug - WARNING -  * Debugger is active!
2025-09-23 17:38:27,779 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 17:38:27,780 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 17:38:27,799 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoices from CSV
2025-09-23 17:38:27,799 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoices from CSV
2025-09-23 17:38:27,802 - app.infrastructure.data.csv_manager - INFO - Loaded 4 invoice details from CSV
2025-09-23 17:38:27,803 - app.infrastructure.data.csv_manager - INFO - Loaded 4 invoice details from CSV
2025-09-23 17:38:27,803 - app.infrastructure.data.csv_manager - INFO - Retrieved 2 invoices with details
2025-09-23 17:38:27,803 - app.infrastructure.data.csv_manager - INFO - Generated statistics: {'total_invoices': 2, 'total_items': 4, 'total_amount': 4965.68, 'last_updated': '2025-09-23T17:38:27.803740', 'files_exist': {'invoices_csv': True, 'details_csv': True}}
2025-09-23 17:38:27,803 - app.presentation.api.v1.endpoints.invoices - INFO - Raw invoices from data manager: 2 invoices
2025-09-23 17:38:27,805 - app.presentation.api.v1.endpoints.invoices - INFO - Sample invoice data: {'id': '123-456', 'invoice_number': '123-456', 'invoice_date': '2014-05-01T00:00:00+00:00', 'customer_id': 123, 'customer_name': '[Company Name]', 'billing_street': '[Street Address]', 'billing_city': '[City]', 'billing_state': '[ST]', 'billing_zip': '[ZIP]', 'billing_phone': '[Phone]', 'shipping_street': '[Street Address]', 'shipping_city': '[City]', 'shipping_state': '[ST]', 'shipping_zip': '[ZIP]', 'shipping_phone': '[Phone]', 'subtotal': 2325.0, 'tax_rate': 0.0675, 'tax_amount': 157.84, 'total_amount': 2482.84, 'salesperson': '', 'po_number': '', 'terms': 'Total payment due in 30 days', 'ship_date': '', 'ship_via': '', 'fob': '', 'created_at': '2014-05-01T00:00:00+00:00', 'extraction_confidence': 0.99, 'items': [{'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2014-05-01T00:00:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2014-05-01T00:00:00+00:00'}, {'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2023-10-11T18:35:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2023-10-11T18:35:00+00:00'}]}
2025-09-23 17:38:27,806 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 17:38:27,807 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 17:38:27,812 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoices from CSV
2025-09-23 17:38:27,814 - app.infrastructure.data.csv_manager - INFO - Loaded 4 invoice details from CSV
2025-09-23 17:38:27,817 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoices from CSV
2025-09-23 17:38:27,817 - app.infrastructure.data.csv_manager - INFO - Generated statistics: {'total_invoices': 2, 'total_items': 4, 'total_amount': 4965.68, 'last_updated': '2025-09-23T17:38:27.815105', 'files_exist': {'invoices_csv': True, 'details_csv': True}}
2025-09-23 17:38:27,820 - app.infrastructure.data.csv_manager - INFO - Loaded 4 invoice details from CSV
2025-09-23 17:38:27,820 - app.infrastructure.data.csv_manager - INFO - Retrieved 2 invoices with details
2025-09-23 17:38:27,821 - app.presentation.api.v1.endpoints.invoices - INFO - Raw invoices from data manager: 2 invoices
2025-09-23 17:38:27,821 - app.presentation.api.v1.endpoints.invoices - INFO - Sample invoice data: {'id': '123-456', 'invoice_number': '123-456', 'invoice_date': '2014-05-01T00:00:00+00:00', 'customer_id': 123, 'customer_name': '[Company Name]', 'billing_street': '[Street Address]', 'billing_city': '[City]', 'billing_state': '[ST]', 'billing_zip': '[ZIP]', 'billing_phone': '[Phone]', 'shipping_street': '[Street Address]', 'shipping_city': '[City]', 'shipping_state': '[ST]', 'shipping_zip': '[ZIP]', 'shipping_phone': '[Phone]', 'subtotal': 2325.0, 'tax_rate': 0.0675, 'tax_amount': 157.84, 'total_amount': 2482.84, 'salesperson': '', 'po_number': '', 'terms': 'Total payment due in 30 days', 'ship_date': '', 'ship_via': '', 'fob': '', 'created_at': '2014-05-01T00:00:00+00:00', 'extraction_confidence': 0.99, 'items': [{'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2014-05-01T00:00:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2014-05-01T00:00:00+00:00'}, {'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2023-10-11T18:35:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2023-10-11T18:35:00+00:00'}]}
2025-09-23 17:38:31,346 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 17:38:31,347 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 17:38:31,353 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoices from CSV
2025-09-23 17:38:31,358 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoices from CSV
2025-09-23 17:38:31,360 - app.infrastructure.data.csv_manager - INFO - Loaded 4 invoice details from CSV
2025-09-23 17:38:31,360 - app.infrastructure.data.csv_manager - INFO - Retrieved 2 invoices with details
2025-09-23 17:38:31,360 - app.presentation.api.v1.endpoints.invoices - INFO - Raw invoices from data manager: 2 invoices
2025-09-23 17:38:31,360 - app.presentation.api.v1.endpoints.invoices - INFO - Sample invoice data: {'id': '123-456', 'invoice_number': '123-456', 'invoice_date': '2014-05-01T00:00:00+00:00', 'customer_id': 123, 'customer_name': '[Company Name]', 'billing_street': '[Street Address]', 'billing_city': '[City]', 'billing_state': '[ST]', 'billing_zip': '[ZIP]', 'billing_phone': '[Phone]', 'shipping_street': '[Street Address]', 'shipping_city': '[City]', 'shipping_state': '[ST]', 'shipping_zip': '[ZIP]', 'shipping_phone': '[Phone]', 'subtotal': 2325.0, 'tax_rate': 0.0675, 'tax_amount': 157.84, 'total_amount': 2482.84, 'salesperson': '', 'po_number': '', 'terms': 'Total payment due in 30 days', 'ship_date': '', 'ship_via': '', 'fob': '', 'created_at': '2014-05-01T00:00:00+00:00', 'extraction_confidence': 0.99, 'items': [{'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2014-05-01T00:00:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2014-05-01T00:00:00+00:00'}, {'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2023-10-11T18:35:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2023-10-11T18:35:00+00:00'}]}
2025-09-23 17:38:31,362 - app.infrastructure.data.csv_manager - INFO - Loaded 4 invoice details from CSV
2025-09-23 17:38:31,362 - app.infrastructure.data.csv_manager - INFO - Generated statistics: {'total_invoices': 2, 'total_items': 4, 'total_amount': 4965.68, 'last_updated': '2025-09-23T17:38:31.362638', 'files_exist': {'invoices_csv': True, 'details_csv': True}}
2025-09-23 17:38:31,364 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 17:38:31,365 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 17:38:31,369 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoices from CSV
2025-09-23 17:38:31,373 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoices from CSV
2025-09-23 17:38:31,375 - app.infrastructure.data.csv_manager - INFO - Loaded 4 invoice details from CSV
2025-09-23 17:38:31,375 - app.infrastructure.data.csv_manager - INFO - Retrieved 2 invoices with details
2025-09-23 17:38:31,375 - app.presentation.api.v1.endpoints.invoices - INFO - Raw invoices from data manager: 2 invoices
2025-09-23 17:38:31,375 - app.presentation.api.v1.endpoints.invoices - INFO - Sample invoice data: {'id': '123-456', 'invoice_number': '123-456', 'invoice_date': '2014-05-01T00:00:00+00:00', 'customer_id': 123, 'customer_name': '[Company Name]', 'billing_street': '[Street Address]', 'billing_city': '[City]', 'billing_state': '[ST]', 'billing_zip': '[ZIP]', 'billing_phone': '[Phone]', 'shipping_street': '[Street Address]', 'shipping_city': '[City]', 'shipping_state': '[ST]', 'shipping_zip': '[ZIP]', 'shipping_phone': '[Phone]', 'subtotal': 2325.0, 'tax_rate': 0.0675, 'tax_amount': 157.84, 'total_amount': 2482.84, 'salesperson': '', 'po_number': '', 'terms': 'Total payment due in 30 days', 'ship_date': '', 'ship_via': '', 'fob': '', 'created_at': '2014-05-01T00:00:00+00:00', 'extraction_confidence': 0.99, 'items': [{'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2014-05-01T00:00:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2014-05-01T00:00:00+00:00'}, {'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2023-10-11T18:35:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2023-10-11T18:35:00+00:00'}]}
2025-09-23 17:38:31,382 - app.infrastructure.data.csv_manager - INFO - Loaded 4 invoice details from CSV
2025-09-23 17:38:31,383 - app.infrastructure.data.csv_manager - INFO - Generated statistics: {'total_invoices': 2, 'total_items': 4, 'total_amount': 4965.68, 'last_updated': '2025-09-23T17:38:31.383205', 'files_exist': {'invoices_csv': True, 'details_csv': True}}
2025-09-23 17:46:30,709 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 17:46:30,710 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 17:46:30,728 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoices from CSV
2025-09-23 17:46:30,731 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoices from CSV
2025-09-23 17:46:30,733 - app.infrastructure.data.csv_manager - INFO - Loaded 4 invoice details from CSV
2025-09-23 17:46:30,734 - app.infrastructure.data.csv_manager - INFO - Loaded 4 invoice details from CSV
2025-09-23 17:46:30,735 - app.infrastructure.data.csv_manager - INFO - Retrieved 2 invoices with details
2025-09-23 17:46:30,735 - app.presentation.api.v1.endpoints.invoices - INFO - Raw invoices from data manager: 2 invoices
2025-09-23 17:46:30,735 - app.infrastructure.data.csv_manager - INFO - Generated statistics: {'total_invoices': 2, 'total_items': 4, 'total_amount': 4965.68, 'last_updated': '2025-09-23T17:46:30.735251', 'files_exist': {'invoices_csv': True, 'details_csv': True}}
2025-09-23 17:46:30,735 - app.presentation.api.v1.endpoints.invoices - INFO - Sample invoice data: {'id': '123-456', 'invoice_number': '123-456', 'invoice_date': '2014-05-01T00:00:00+00:00', 'customer_id': 123, 'customer_name': '[Company Name]', 'billing_street': '[Street Address]', 'billing_city': '[City]', 'billing_state': '[ST]', 'billing_zip': '[ZIP]', 'billing_phone': '[Phone]', 'shipping_street': '[Street Address]', 'shipping_city': '[City]', 'shipping_state': '[ST]', 'shipping_zip': '[ZIP]', 'shipping_phone': '[Phone]', 'subtotal': 2325.0, 'tax_rate': 0.0675, 'tax_amount': 157.84, 'total_amount': 2482.84, 'salesperson': '', 'po_number': '', 'terms': 'Total payment due in 30 days', 'ship_date': '', 'ship_via': '', 'fob': '', 'created_at': '2014-05-01T00:00:00+00:00', 'extraction_confidence': 0.99, 'items': [{'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2014-05-01T00:00:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2014-05-01T00:00:00+00:00'}, {'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2023-10-11T18:35:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2023-10-11T18:35:00+00:00'}]}
2025-09-23 17:46:30,738 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 17:46:30,738 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 17:46:30,744 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoices from CSV
2025-09-23 17:46:30,749 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoices from CSV
2025-09-23 17:46:30,751 - app.infrastructure.data.csv_manager - INFO - Loaded 4 invoice details from CSV
2025-09-23 17:46:30,754 - app.infrastructure.data.csv_manager - INFO - Loaded 4 invoice details from CSV
2025-09-23 17:46:30,754 - app.infrastructure.data.csv_manager - INFO - Retrieved 2 invoices with details
2025-09-23 17:46:30,754 - app.infrastructure.data.csv_manager - INFO - Generated statistics: {'total_invoices': 2, 'total_items': 4, 'total_amount': 4965.68, 'last_updated': '2025-09-23T17:46:30.754414', 'files_exist': {'invoices_csv': True, 'details_csv': True}}
2025-09-23 17:46:30,754 - app.presentation.api.v1.endpoints.invoices - INFO - Raw invoices from data manager: 2 invoices
2025-09-23 17:46:30,755 - app.presentation.api.v1.endpoints.invoices - INFO - Sample invoice data: {'id': '123-456', 'invoice_number': '123-456', 'invoice_date': '2014-05-01T00:00:00+00:00', 'customer_id': 123, 'customer_name': '[Company Name]', 'billing_street': '[Street Address]', 'billing_city': '[City]', 'billing_state': '[ST]', 'billing_zip': '[ZIP]', 'billing_phone': '[Phone]', 'shipping_street': '[Street Address]', 'shipping_city': '[City]', 'shipping_state': '[ST]', 'shipping_zip': '[ZIP]', 'shipping_phone': '[Phone]', 'subtotal': 2325.0, 'tax_rate': 0.0675, 'tax_amount': 157.84, 'total_amount': 2482.84, 'salesperson': '', 'po_number': '', 'terms': 'Total payment due in 30 days', 'ship_date': '', 'ship_via': '', 'fob': '', 'created_at': '2014-05-01T00:00:00+00:00', 'extraction_confidence': 0.99, 'items': [{'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2014-05-01T00:00:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2014-05-01T00:00:00+00:00'}, {'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2023-10-11T18:35:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2023-10-11T18:35:00+00:00'}]}
2025-09-23 17:46:57,600 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 17:46:57,601 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 17:46:57,608 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoices from CSV
2025-09-23 17:46:57,612 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoices from CSV
2025-09-23 17:46:57,614 - app.infrastructure.data.csv_manager - INFO - Loaded 4 invoice details from CSV
2025-09-23 17:46:57,615 - app.infrastructure.data.csv_manager - INFO - Loaded 4 invoice details from CSV
2025-09-23 17:46:57,615 - app.infrastructure.data.csv_manager - INFO - Generated statistics: {'total_invoices': 2, 'total_items': 4, 'total_amount': 4965.68, 'last_updated': '2025-09-23T17:46:57.614799', 'files_exist': {'invoices_csv': True, 'details_csv': True}}
2025-09-23 17:46:57,615 - app.infrastructure.data.csv_manager - INFO - Retrieved 2 invoices with details
2025-09-23 17:46:57,616 - app.presentation.api.v1.endpoints.invoices - INFO - Raw invoices from data manager: 2 invoices
2025-09-23 17:46:57,616 - app.presentation.api.v1.endpoints.invoices - INFO - Sample invoice data: {'id': '123-456', 'invoice_number': '123-456', 'invoice_date': '2014-05-01T00:00:00+00:00', 'customer_id': 123, 'customer_name': '[Company Name]', 'billing_street': '[Street Address]', 'billing_city': '[City]', 'billing_state': '[ST]', 'billing_zip': '[ZIP]', 'billing_phone': '[Phone]', 'shipping_street': '[Street Address]', 'shipping_city': '[City]', 'shipping_state': '[ST]', 'shipping_zip': '[ZIP]', 'shipping_phone': '[Phone]', 'subtotal': 2325.0, 'tax_rate': 0.0675, 'tax_amount': 157.84, 'total_amount': 2482.84, 'salesperson': '', 'po_number': '', 'terms': 'Total payment due in 30 days', 'ship_date': '', 'ship_via': '', 'fob': '', 'created_at': '2014-05-01T00:00:00+00:00', 'extraction_confidence': 0.99, 'items': [{'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2014-05-01T00:00:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2014-05-01T00:00:00+00:00'}, {'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2023-10-11T18:35:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2023-10-11T18:35:00+00:00'}]}
2025-09-23 17:46:57,618 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 17:46:57,618 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 17:46:57,623 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoices from CSV
2025-09-23 17:46:57,628 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoices from CSV
2025-09-23 17:46:57,629 - app.infrastructure.data.csv_manager - INFO - Loaded 4 invoice details from CSV
2025-09-23 17:46:57,630 - app.infrastructure.data.csv_manager - INFO - Retrieved 2 invoices with details
2025-09-23 17:46:57,631 - app.infrastructure.data.csv_manager - INFO - Loaded 4 invoice details from CSV
2025-09-23 17:46:57,631 - app.presentation.api.v1.endpoints.invoices - INFO - Raw invoices from data manager: 2 invoices
2025-09-23 17:46:57,631 - app.infrastructure.data.csv_manager - INFO - Generated statistics: {'total_invoices': 2, 'total_items': 4, 'total_amount': 4965.68, 'last_updated': '2025-09-23T17:46:57.631753', 'files_exist': {'invoices_csv': True, 'details_csv': True}}
2025-09-23 17:46:57,631 - app.presentation.api.v1.endpoints.invoices - INFO - Sample invoice data: {'id': '123-456', 'invoice_number': '123-456', 'invoice_date': '2014-05-01T00:00:00+00:00', 'customer_id': 123, 'customer_name': '[Company Name]', 'billing_street': '[Street Address]', 'billing_city': '[City]', 'billing_state': '[ST]', 'billing_zip': '[ZIP]', 'billing_phone': '[Phone]', 'shipping_street': '[Street Address]', 'shipping_city': '[City]', 'shipping_state': '[ST]', 'shipping_zip': '[ZIP]', 'shipping_phone': '[Phone]', 'subtotal': 2325.0, 'tax_rate': 0.0675, 'tax_amount': 157.84, 'total_amount': 2482.84, 'salesperson': '', 'po_number': '', 'terms': 'Total payment due in 30 days', 'ship_date': '', 'ship_via': '', 'fob': '', 'created_at': '2014-05-01T00:00:00+00:00', 'extraction_confidence': 0.99, 'items': [{'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2014-05-01T00:00:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2014-05-01T00:00:00+00:00'}, {'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2023-10-11T18:35:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2023-10-11T18:35:00+00:00'}]}
2025-09-23 17:46:59,331 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 17:46:59,332 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 17:46:59,338 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoices from CSV
2025-09-23 17:46:59,342 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoices from CSV
2025-09-23 17:46:59,344 - app.infrastructure.data.csv_manager - INFO - Loaded 4 invoice details from CSV
2025-09-23 17:46:59,346 - app.infrastructure.data.csv_manager - INFO - Loaded 4 invoice details from CSV
2025-09-23 17:46:59,346 - app.infrastructure.data.csv_manager - INFO - Generated statistics: {'total_invoices': 2, 'total_items': 4, 'total_amount': 4965.68, 'last_updated': '2025-09-23T17:46:59.346357', 'files_exist': {'invoices_csv': True, 'details_csv': True}}
2025-09-23 17:46:59,346 - app.infrastructure.data.csv_manager - INFO - Retrieved 2 invoices with details
2025-09-23 17:46:59,346 - app.presentation.api.v1.endpoints.invoices - INFO - Raw invoices from data manager: 2 invoices
2025-09-23 17:46:59,347 - app.presentation.api.v1.endpoints.invoices - INFO - Sample invoice data: {'id': '123-456', 'invoice_number': '123-456', 'invoice_date': '2014-05-01T00:00:00+00:00', 'customer_id': 123, 'customer_name': '[Company Name]', 'billing_street': '[Street Address]', 'billing_city': '[City]', 'billing_state': '[ST]', 'billing_zip': '[ZIP]', 'billing_phone': '[Phone]', 'shipping_street': '[Street Address]', 'shipping_city': '[City]', 'shipping_state': '[ST]', 'shipping_zip': '[ZIP]', 'shipping_phone': '[Phone]', 'subtotal': 2325.0, 'tax_rate': 0.0675, 'tax_amount': 157.84, 'total_amount': 2482.84, 'salesperson': '', 'po_number': '', 'terms': 'Total payment due in 30 days', 'ship_date': '', 'ship_via': '', 'fob': '', 'created_at': '2014-05-01T00:00:00+00:00', 'extraction_confidence': 0.99, 'items': [{'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2014-05-01T00:00:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2014-05-01T00:00:00+00:00'}, {'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2023-10-11T18:35:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2023-10-11T18:35:00+00:00'}]}
2025-09-23 17:46:59,349 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 17:46:59,349 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 17:46:59,354 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoices from CSV
2025-09-23 17:46:59,358 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoices from CSV
2025-09-23 17:46:59,360 - app.infrastructure.data.csv_manager - INFO - Loaded 4 invoice details from CSV
2025-09-23 17:46:59,361 - app.infrastructure.data.csv_manager - INFO - Loaded 4 invoice details from CSV
2025-09-23 17:46:59,361 - app.infrastructure.data.csv_manager - INFO - Generated statistics: {'total_invoices': 2, 'total_items': 4, 'total_amount': 4965.68, 'last_updated': '2025-09-23T17:46:59.361454', 'files_exist': {'invoices_csv': True, 'details_csv': True}}
2025-09-23 17:46:59,361 - app.infrastructure.data.csv_manager - INFO - Retrieved 2 invoices with details
2025-09-23 17:46:59,361 - app.presentation.api.v1.endpoints.invoices - INFO - Raw invoices from data manager: 2 invoices
2025-09-23 17:46:59,362 - app.presentation.api.v1.endpoints.invoices - INFO - Sample invoice data: {'id': '123-456', 'invoice_number': '123-456', 'invoice_date': '2014-05-01T00:00:00+00:00', 'customer_id': 123, 'customer_name': '[Company Name]', 'billing_street': '[Street Address]', 'billing_city': '[City]', 'billing_state': '[ST]', 'billing_zip': '[ZIP]', 'billing_phone': '[Phone]', 'shipping_street': '[Street Address]', 'shipping_city': '[City]', 'shipping_state': '[ST]', 'shipping_zip': '[ZIP]', 'shipping_phone': '[Phone]', 'subtotal': 2325.0, 'tax_rate': 0.0675, 'tax_amount': 157.84, 'total_amount': 2482.84, 'salesperson': '', 'po_number': '', 'terms': 'Total payment due in 30 days', 'ship_date': '', 'ship_via': '', 'fob': '', 'created_at': '2014-05-01T00:00:00+00:00', 'extraction_confidence': 0.99, 'items': [{'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2014-05-01T00:00:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2014-05-01T00:00:00+00:00'}, {'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2023-10-11T18:35:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2023-10-11T18:35:00+00:00'}]}
2025-09-23 18:04:43,091 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 18:04:43,093 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 18:04:43,119 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoices from CSV
2025-09-23 18:04:43,121 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoices from CSV
2025-09-23 18:04:43,124 - app.infrastructure.data.csv_manager - INFO - Loaded 4 invoice details from CSV
2025-09-23 18:04:43,125 - app.infrastructure.data.csv_manager - INFO - Loaded 4 invoice details from CSV
2025-09-23 18:04:43,125 - app.infrastructure.data.csv_manager - INFO - Retrieved 2 invoices with details
2025-09-23 18:04:43,126 - app.presentation.api.v1.endpoints.invoices - INFO - Raw invoices from data manager: 2 invoices
2025-09-23 18:04:43,126 - app.infrastructure.data.csv_manager - INFO - Generated statistics: {'total_invoices': 2, 'total_items': 4, 'total_amount': 4965.68, 'last_updated': '2025-09-23T18:04:43.126145', 'files_exist': {'invoices_csv': True, 'details_csv': True}}
2025-09-23 18:04:43,126 - app.presentation.api.v1.endpoints.invoices - INFO - Sample invoice data: {'id': '123-456', 'invoice_number': '123-456', 'invoice_date': '2014-05-01T00:00:00+00:00', 'customer_id': 123, 'customer_name': '[Company Name]', 'billing_street': '[Street Address]', 'billing_city': '[City]', 'billing_state': '[ST]', 'billing_zip': '[ZIP]', 'billing_phone': '[Phone]', 'shipping_street': '[Street Address]', 'shipping_city': '[City]', 'shipping_state': '[ST]', 'shipping_zip': '[ZIP]', 'shipping_phone': '[Phone]', 'subtotal': 2325.0, 'tax_rate': 0.0675, 'tax_amount': 157.84, 'total_amount': 2482.84, 'salesperson': '', 'po_number': '', 'terms': 'Total payment due in 30 days', 'ship_date': '', 'ship_via': '', 'fob': '', 'created_at': '2014-05-01T00:00:00+00:00', 'extraction_confidence': 0.99, 'items': [{'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2014-05-01T00:00:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2014-05-01T00:00:00+00:00'}, {'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2023-10-11T18:35:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2023-10-11T18:35:00+00:00'}]}
2025-09-23 18:04:43,129 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 18:04:43,129 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 18:04:43,134 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoices from CSV
2025-09-23 18:04:43,138 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoices from CSV
2025-09-23 18:04:43,139 - app.infrastructure.data.csv_manager - INFO - Loaded 4 invoice details from CSV
2025-09-23 18:04:43,140 - app.infrastructure.data.csv_manager - INFO - Generated statistics: {'total_invoices': 2, 'total_items': 4, 'total_amount': 4965.68, 'last_updated': '2025-09-23T18:04:43.139947', 'files_exist': {'invoices_csv': True, 'details_csv': True}}
2025-09-23 18:04:43,141 - app.infrastructure.data.csv_manager - INFO - Loaded 4 invoice details from CSV
2025-09-23 18:04:43,141 - app.infrastructure.data.csv_manager - INFO - Retrieved 2 invoices with details
2025-09-23 18:04:43,141 - app.presentation.api.v1.endpoints.invoices - INFO - Raw invoices from data manager: 2 invoices
2025-09-23 18:04:43,141 - app.presentation.api.v1.endpoints.invoices - INFO - Sample invoice data: {'id': '123-456', 'invoice_number': '123-456', 'invoice_date': '2014-05-01T00:00:00+00:00', 'customer_id': 123, 'customer_name': '[Company Name]', 'billing_street': '[Street Address]', 'billing_city': '[City]', 'billing_state': '[ST]', 'billing_zip': '[ZIP]', 'billing_phone': '[Phone]', 'shipping_street': '[Street Address]', 'shipping_city': '[City]', 'shipping_state': '[ST]', 'shipping_zip': '[ZIP]', 'shipping_phone': '[Phone]', 'subtotal': 2325.0, 'tax_rate': 0.0675, 'tax_amount': 157.84, 'total_amount': 2482.84, 'salesperson': '', 'po_number': '', 'terms': 'Total payment due in 30 days', 'ship_date': '', 'ship_via': '', 'fob': '', 'created_at': '2014-05-01T00:00:00+00:00', 'extraction_confidence': 0.99, 'items': [{'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2014-05-01T00:00:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2014-05-01T00:00:00+00:00'}, {'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2023-10-11T18:35:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2023-10-11T18:35:00+00:00'}]}
2025-09-23 18:09:33,591 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 18:09:33,592 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 18:09:33,603 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoices from CSV
2025-09-23 18:09:33,606 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoices from CSV
2025-09-23 18:09:33,608 - app.infrastructure.data.csv_manager - INFO - Loaded 4 invoice details from CSV
2025-09-23 18:09:33,610 - app.infrastructure.data.csv_manager - INFO - Loaded 4 invoice details from CSV
2025-09-23 18:09:33,610 - app.infrastructure.data.csv_manager - INFO - Retrieved 2 invoices with details
2025-09-23 18:09:33,610 - app.presentation.api.v1.endpoints.invoices - INFO - Raw invoices from data manager: 2 invoices
2025-09-23 18:09:33,610 - app.infrastructure.data.csv_manager - INFO - Generated statistics: {'total_invoices': 2, 'total_items': 4, 'total_amount': 4965.68, 'last_updated': '2025-09-23T18:09:33.610275', 'files_exist': {'invoices_csv': True, 'details_csv': True}}
2025-09-23 18:09:33,610 - app.presentation.api.v1.endpoints.invoices - INFO - Sample invoice data: {'id': '123-456', 'invoice_number': '123-456', 'invoice_date': '2014-05-01T00:00:00+00:00', 'customer_id': 123, 'customer_name': '[Company Name]', 'billing_street': '[Street Address]', 'billing_city': '[City]', 'billing_state': '[ST]', 'billing_zip': '[ZIP]', 'billing_phone': '[Phone]', 'shipping_street': '[Street Address]', 'shipping_city': '[City]', 'shipping_state': '[ST]', 'shipping_zip': '[ZIP]', 'shipping_phone': '[Phone]', 'subtotal': 2325.0, 'tax_rate': 0.0675, 'tax_amount': 157.84, 'total_amount': 2482.84, 'salesperson': '', 'po_number': '', 'terms': 'Total payment due in 30 days', 'ship_date': '', 'ship_via': '', 'fob': '', 'created_at': '2014-05-01T00:00:00+00:00', 'extraction_confidence': 0.99, 'items': [{'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2014-05-01T00:00:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2014-05-01T00:00:00+00:00'}, {'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2023-10-11T18:35:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2023-10-11T18:35:00+00:00'}]}
2025-09-23 18:09:33,612 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 18:09:33,612 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 18:09:33,617 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoices from CSV
2025-09-23 18:09:33,620 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoices from CSV
2025-09-23 18:09:33,621 - app.infrastructure.data.csv_manager - INFO - Loaded 4 invoice details from CSV
2025-09-23 18:09:33,622 - app.infrastructure.data.csv_manager - INFO - Generated statistics: {'total_invoices': 2, 'total_items': 4, 'total_amount': 4965.68, 'last_updated': '2025-09-23T18:09:33.621997', 'files_exist': {'invoices_csv': True, 'details_csv': True}}
2025-09-23 18:09:33,623 - app.infrastructure.data.csv_manager - INFO - Loaded 4 invoice details from CSV
2025-09-23 18:09:33,623 - app.infrastructure.data.csv_manager - INFO - Retrieved 2 invoices with details
2025-09-23 18:09:33,623 - app.presentation.api.v1.endpoints.invoices - INFO - Raw invoices from data manager: 2 invoices
2025-09-23 18:09:33,623 - app.presentation.api.v1.endpoints.invoices - INFO - Sample invoice data: {'id': '123-456', 'invoice_number': '123-456', 'invoice_date': '2014-05-01T00:00:00+00:00', 'customer_id': 123, 'customer_name': '[Company Name]', 'billing_street': '[Street Address]', 'billing_city': '[City]', 'billing_state': '[ST]', 'billing_zip': '[ZIP]', 'billing_phone': '[Phone]', 'shipping_street': '[Street Address]', 'shipping_city': '[City]', 'shipping_state': '[ST]', 'shipping_zip': '[ZIP]', 'shipping_phone': '[Phone]', 'subtotal': 2325.0, 'tax_rate': 0.0675, 'tax_amount': 157.84, 'total_amount': 2482.84, 'salesperson': '', 'po_number': '', 'terms': 'Total payment due in 30 days', 'ship_date': '', 'ship_via': '', 'fob': '', 'created_at': '2014-05-01T00:00:00+00:00', 'extraction_confidence': 0.99, 'items': [{'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2014-05-01T00:00:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2014-05-01T00:00:00+00:00'}, {'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2023-10-11T18:35:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2023-10-11T18:35:00+00:00'}]}
2025-09-23 18:11:24,337 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 18:11:24,345 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoices from CSV
2025-09-23 18:11:24,347 - app.infrastructure.data.csv_manager - INFO - Loaded 4 invoice details from CSV
2025-09-23 18:11:24,347 - app.infrastructure.data.csv_manager - INFO - Retrieved 2 invoices with details
2025-09-23 18:11:24,347 - app.infrastructure.data.csv_manager - INFO - Found invoice with ID: 123-456
2025-09-23 18:17:51,514 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 18:17:51,516 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 18:17:51,523 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoices from CSV
2025-09-23 18:17:51,527 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoices from CSV
2025-09-23 18:17:51,529 - app.infrastructure.data.csv_manager - INFO - Loaded 4 invoice details from CSV
2025-09-23 18:17:51,530 - app.infrastructure.data.csv_manager - INFO - Loaded 4 invoice details from CSV
2025-09-23 18:17:51,530 - app.infrastructure.data.csv_manager - INFO - Retrieved 2 invoices with details
2025-09-23 18:17:51,530 - app.presentation.api.v1.endpoints.invoices - INFO - Raw invoices from data manager: 2 invoices
2025-09-23 18:17:51,530 - app.presentation.api.v1.endpoints.invoices - INFO - Sample invoice data: {'id': '123-456', 'invoice_number': '123-456', 'invoice_date': '2014-05-01T00:00:00+00:00', 'customer_id': 123, 'customer_name': '[Company Name]', 'billing_street': '[Street Address]', 'billing_city': '[City]', 'billing_state': '[ST]', 'billing_zip': '[ZIP]', 'billing_phone': '[Phone]', 'shipping_street': '[Street Address]', 'shipping_city': '[City]', 'shipping_state': '[ST]', 'shipping_zip': '[ZIP]', 'shipping_phone': '[Phone]', 'subtotal': 2325.0, 'tax_rate': 0.0675, 'tax_amount': 157.84, 'total_amount': 2482.84, 'salesperson': '', 'po_number': '', 'terms': 'Total payment due in 30 days', 'ship_date': '', 'ship_via': '', 'fob': '', 'created_at': '2014-05-01T00:00:00+00:00', 'extraction_confidence': 0.99, 'items': [{'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2014-05-01T00:00:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2014-05-01T00:00:00+00:00'}, {'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2023-10-11T18:35:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2023-10-11T18:35:00+00:00'}]}
2025-09-23 18:17:51,530 - app.infrastructure.data.csv_manager - INFO - Generated statistics: {'total_invoices': 2, 'total_items': 4, 'total_amount': 4965.68, 'last_updated': '2025-09-23T18:17:51.530713', 'files_exist': {'invoices_csv': True, 'details_csv': True}}
2025-09-23 18:17:51,532 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 18:17:51,533 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 18:17:51,537 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoices from CSV
2025-09-23 18:17:51,541 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoices from CSV
2025-09-23 18:17:51,542 - app.infrastructure.data.csv_manager - INFO - Loaded 4 invoice details from CSV
2025-09-23 18:17:51,543 - app.infrastructure.data.csv_manager - INFO - Retrieved 2 invoices with details
2025-09-23 18:17:51,544 - app.infrastructure.data.csv_manager - INFO - Loaded 4 invoice details from CSV
2025-09-23 18:17:51,544 - app.presentation.api.v1.endpoints.invoices - INFO - Raw invoices from data manager: 2 invoices
2025-09-23 18:17:51,544 - app.infrastructure.data.csv_manager - INFO - Generated statistics: {'total_invoices': 2, 'total_items': 4, 'total_amount': 4965.68, 'last_updated': '2025-09-23T18:17:51.544331', 'files_exist': {'invoices_csv': True, 'details_csv': True}}
2025-09-23 18:17:51,544 - app.presentation.api.v1.endpoints.invoices - INFO - Sample invoice data: {'id': '123-456', 'invoice_number': '123-456', 'invoice_date': '2014-05-01T00:00:00+00:00', 'customer_id': 123, 'customer_name': '[Company Name]', 'billing_street': '[Street Address]', 'billing_city': '[City]', 'billing_state': '[ST]', 'billing_zip': '[ZIP]', 'billing_phone': '[Phone]', 'shipping_street': '[Street Address]', 'shipping_city': '[City]', 'shipping_state': '[ST]', 'shipping_zip': '[ZIP]', 'shipping_phone': '[Phone]', 'subtotal': 2325.0, 'tax_rate': 0.0675, 'tax_amount': 157.84, 'total_amount': 2482.84, 'salesperson': '', 'po_number': '', 'terms': 'Total payment due in 30 days', 'ship_date': '', 'ship_via': '', 'fob': '', 'created_at': '2014-05-01T00:00:00+00:00', 'extraction_confidence': 0.99, 'items': [{'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2014-05-01T00:00:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2014-05-01T00:00:00+00:00'}, {'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2023-10-11T18:35:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2023-10-11T18:35:00+00:00'}]}
2025-09-23 18:17:54,624 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 18:17:54,624 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 18:17:54,629 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoices from CSV
2025-09-23 18:17:54,632 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoices from CSV
2025-09-23 18:17:54,634 - app.infrastructure.data.csv_manager - INFO - Loaded 4 invoice details from CSV
2025-09-23 18:17:54,634 - app.infrastructure.data.csv_manager - INFO - Generated statistics: {'total_invoices': 2, 'total_items': 4, 'total_amount': 4965.68, 'last_updated': '2025-09-23T18:17:54.634881', 'files_exist': {'invoices_csv': True, 'details_csv': True}}
2025-09-23 18:17:54,636 - app.infrastructure.data.csv_manager - INFO - Loaded 4 invoice details from CSV
2025-09-23 18:17:54,636 - app.infrastructure.data.csv_manager - INFO - Retrieved 2 invoices with details
2025-09-23 18:17:54,636 - app.presentation.api.v1.endpoints.invoices - INFO - Raw invoices from data manager: 2 invoices
2025-09-23 18:17:54,636 - app.presentation.api.v1.endpoints.invoices - INFO - Sample invoice data: {'id': '123-456', 'invoice_number': '123-456', 'invoice_date': '2014-05-01T00:00:00+00:00', 'customer_id': 123, 'customer_name': '[Company Name]', 'billing_street': '[Street Address]', 'billing_city': '[City]', 'billing_state': '[ST]', 'billing_zip': '[ZIP]', 'billing_phone': '[Phone]', 'shipping_street': '[Street Address]', 'shipping_city': '[City]', 'shipping_state': '[ST]', 'shipping_zip': '[ZIP]', 'shipping_phone': '[Phone]', 'subtotal': 2325.0, 'tax_rate': 0.0675, 'tax_amount': 157.84, 'total_amount': 2482.84, 'salesperson': '', 'po_number': '', 'terms': 'Total payment due in 30 days', 'ship_date': '', 'ship_via': '', 'fob': '', 'created_at': '2014-05-01T00:00:00+00:00', 'extraction_confidence': 0.99, 'items': [{'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2014-05-01T00:00:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2014-05-01T00:00:00+00:00'}, {'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2023-10-11T18:35:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2023-10-11T18:35:00+00:00'}]}
2025-09-23 18:17:54,638 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 18:17:54,638 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 18:17:54,642 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoices from CSV
2025-09-23 18:17:54,645 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoices from CSV
2025-09-23 18:17:54,647 - app.infrastructure.data.csv_manager - INFO - Loaded 4 invoice details from CSV
2025-09-23 18:17:54,648 - app.infrastructure.data.csv_manager - INFO - Loaded 4 invoice details from CSV
2025-09-23 18:17:54,648 - app.infrastructure.data.csv_manager - INFO - Generated statistics: {'total_invoices': 2, 'total_items': 4, 'total_amount': 4965.68, 'last_updated': '2025-09-23T18:17:54.648716', 'files_exist': {'invoices_csv': True, 'details_csv': True}}
2025-09-23 18:17:54,648 - app.infrastructure.data.csv_manager - INFO - Retrieved 2 invoices with details
2025-09-23 18:17:54,649 - app.presentation.api.v1.endpoints.invoices - INFO - Raw invoices from data manager: 2 invoices
2025-09-23 18:17:54,649 - app.presentation.api.v1.endpoints.invoices - INFO - Sample invoice data: {'id': '123-456', 'invoice_number': '123-456', 'invoice_date': '2014-05-01T00:00:00+00:00', 'customer_id': 123, 'customer_name': '[Company Name]', 'billing_street': '[Street Address]', 'billing_city': '[City]', 'billing_state': '[ST]', 'billing_zip': '[ZIP]', 'billing_phone': '[Phone]', 'shipping_street': '[Street Address]', 'shipping_city': '[City]', 'shipping_state': '[ST]', 'shipping_zip': '[ZIP]', 'shipping_phone': '[Phone]', 'subtotal': 2325.0, 'tax_rate': 0.0675, 'tax_amount': 157.84, 'total_amount': 2482.84, 'salesperson': '', 'po_number': '', 'terms': 'Total payment due in 30 days', 'ship_date': '', 'ship_via': '', 'fob': '', 'created_at': '2014-05-01T00:00:00+00:00', 'extraction_confidence': 0.99, 'items': [{'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2014-05-01T00:00:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2014-05-01T00:00:00+00:00'}, {'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2023-10-11T18:35:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2023-10-11T18:35:00+00:00'}]}
2025-09-23 18:22:41,969 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 18:22:41,969 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 18:22:41,974 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoices from CSV
2025-09-23 18:22:41,977 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoices from CSV
2025-09-23 18:22:41,980 - app.infrastructure.data.csv_manager - INFO - Loaded 4 invoice details from CSV
2025-09-23 18:22:41,980 - app.infrastructure.data.csv_manager - INFO - Loaded 4 invoice details from CSV
2025-09-23 18:22:41,980 - app.infrastructure.data.csv_manager - INFO - Retrieved 2 invoices with details
2025-09-23 18:22:41,981 - app.presentation.api.v1.endpoints.invoices - INFO - Raw invoices from data manager: 2 invoices
2025-09-23 18:22:41,981 - app.infrastructure.data.csv_manager - INFO - Generated statistics: {'total_invoices': 2, 'total_items': 4, 'total_amount': 4965.68, 'last_updated': '2025-09-23T18:22:41.981019', 'files_exist': {'invoices_csv': True, 'details_csv': True}}
2025-09-23 18:22:41,981 - app.presentation.api.v1.endpoints.invoices - INFO - Sample invoice data: {'id': '123-456', 'invoice_number': '123-456', 'invoice_date': '2014-05-01T00:00:00+00:00', 'customer_id': 123, 'customer_name': '[Company Name]', 'billing_street': '[Street Address]', 'billing_city': '[City]', 'billing_state': '[ST]', 'billing_zip': '[ZIP]', 'billing_phone': '[Phone]', 'shipping_street': '[Street Address]', 'shipping_city': '[City]', 'shipping_state': '[ST]', 'shipping_zip': '[ZIP]', 'shipping_phone': '[Phone]', 'subtotal': 2325.0, 'tax_rate': 0.0675, 'tax_amount': 157.84, 'total_amount': 2482.84, 'salesperson': '', 'po_number': '', 'terms': 'Total payment due in 30 days', 'ship_date': '', 'ship_via': '', 'fob': '', 'created_at': '2014-05-01T00:00:00+00:00', 'extraction_confidence': 0.99, 'items': [{'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2014-05-01T00:00:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2014-05-01T00:00:00+00:00'}, {'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2023-10-11T18:35:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2023-10-11T18:35:00+00:00'}]}
2025-09-23 18:22:41,983 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 18:22:41,983 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 18:22:41,987 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoices from CSV
2025-09-23 18:22:41,990 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoices from CSV
2025-09-23 18:22:41,992 - app.infrastructure.data.csv_manager - INFO - Loaded 4 invoice details from CSV
2025-09-23 18:22:41,992 - app.infrastructure.data.csv_manager - INFO - Generated statistics: {'total_invoices': 2, 'total_items': 4, 'total_amount': 4965.68, 'last_updated': '2025-09-23T18:22:41.992579', 'files_exist': {'invoices_csv': True, 'details_csv': True}}
2025-09-23 18:22:41,993 - app.infrastructure.data.csv_manager - INFO - Loaded 4 invoice details from CSV
2025-09-23 18:22:41,994 - app.infrastructure.data.csv_manager - INFO - Retrieved 2 invoices with details
2025-09-23 18:22:41,994 - app.presentation.api.v1.endpoints.invoices - INFO - Raw invoices from data manager: 2 invoices
2025-09-23 18:22:41,994 - app.presentation.api.v1.endpoints.invoices - INFO - Sample invoice data: {'id': '123-456', 'invoice_number': '123-456', 'invoice_date': '2014-05-01T00:00:00+00:00', 'customer_id': 123, 'customer_name': '[Company Name]', 'billing_street': '[Street Address]', 'billing_city': '[City]', 'billing_state': '[ST]', 'billing_zip': '[ZIP]', 'billing_phone': '[Phone]', 'shipping_street': '[Street Address]', 'shipping_city': '[City]', 'shipping_state': '[ST]', 'shipping_zip': '[ZIP]', 'shipping_phone': '[Phone]', 'subtotal': 2325.0, 'tax_rate': 0.0675, 'tax_amount': 157.84, 'total_amount': 2482.84, 'salesperson': '', 'po_number': '', 'terms': 'Total payment due in 30 days', 'ship_date': '', 'ship_via': '', 'fob': '', 'created_at': '2014-05-01T00:00:00+00:00', 'extraction_confidence': 0.99, 'items': [{'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2014-05-01T00:00:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2014-05-01T00:00:00+00:00'}, {'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2023-10-11T18:35:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2023-10-11T18:35:00+00:00'}]}
2025-09-23 18:22:43,082 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 18:22:43,082 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 18:22:43,085 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoices from CSV
2025-09-23 18:22:43,089 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoices from CSV
2025-09-23 18:22:43,091 - app.infrastructure.data.csv_manager - INFO - Loaded 4 invoice details from CSV
2025-09-23 18:22:43,091 - app.infrastructure.data.csv_manager - INFO - Retrieved 2 invoices with details
2025-09-23 18:22:43,092 - app.presentation.api.v1.endpoints.invoices - INFO - Raw invoices from data manager: 2 invoices
2025-09-23 18:22:43,092 - app.infrastructure.data.csv_manager - INFO - Loaded 4 invoice details from CSV
2025-09-23 18:22:43,092 - app.presentation.api.v1.endpoints.invoices - INFO - Sample invoice data: {'id': '123-456', 'invoice_number': '123-456', 'invoice_date': '2014-05-01T00:00:00+00:00', 'customer_id': 123, 'customer_name': '[Company Name]', 'billing_street': '[Street Address]', 'billing_city': '[City]', 'billing_state': '[ST]', 'billing_zip': '[ZIP]', 'billing_phone': '[Phone]', 'shipping_street': '[Street Address]', 'shipping_city': '[City]', 'shipping_state': '[ST]', 'shipping_zip': '[ZIP]', 'shipping_phone': '[Phone]', 'subtotal': 2325.0, 'tax_rate': 0.0675, 'tax_amount': 157.84, 'total_amount': 2482.84, 'salesperson': '', 'po_number': '', 'terms': 'Total payment due in 30 days', 'ship_date': '', 'ship_via': '', 'fob': '', 'created_at': '2014-05-01T00:00:00+00:00', 'extraction_confidence': 0.99, 'items': [{'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2014-05-01T00:00:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2014-05-01T00:00:00+00:00'}, {'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2023-10-11T18:35:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2023-10-11T18:35:00+00:00'}]}
2025-09-23 18:22:43,093 - app.infrastructure.data.csv_manager - INFO - Generated statistics: {'total_invoices': 2, 'total_items': 4, 'total_amount': 4965.68, 'last_updated': '2025-09-23T18:22:43.092793', 'files_exist': {'invoices_csv': True, 'details_csv': True}}
2025-09-23 18:22:43,094 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 18:22:43,095 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 18:22:43,099 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoices from CSV
2025-09-23 18:22:43,102 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoices from CSV
2025-09-23 18:22:43,104 - app.infrastructure.data.csv_manager - INFO - Loaded 4 invoice details from CSV
2025-09-23 18:22:43,105 - app.infrastructure.data.csv_manager - INFO - Loaded 4 invoice details from CSV
2025-09-23 18:22:43,106 - app.infrastructure.data.csv_manager - INFO - Retrieved 2 invoices with details
2025-09-23 18:22:43,106 - app.presentation.api.v1.endpoints.invoices - INFO - Raw invoices from data manager: 2 invoices
2025-09-23 18:22:43,106 - app.infrastructure.data.csv_manager - INFO - Generated statistics: {'total_invoices': 2, 'total_items': 4, 'total_amount': 4965.68, 'last_updated': '2025-09-23T18:22:43.104932', 'files_exist': {'invoices_csv': True, 'details_csv': True}}
2025-09-23 18:22:43,106 - app.presentation.api.v1.endpoints.invoices - INFO - Sample invoice data: {'id': '123-456', 'invoice_number': '123-456', 'invoice_date': '2014-05-01T00:00:00+00:00', 'customer_id': 123, 'customer_name': '[Company Name]', 'billing_street': '[Street Address]', 'billing_city': '[City]', 'billing_state': '[ST]', 'billing_zip': '[ZIP]', 'billing_phone': '[Phone]', 'shipping_street': '[Street Address]', 'shipping_city': '[City]', 'shipping_state': '[ST]', 'shipping_zip': '[ZIP]', 'shipping_phone': '[Phone]', 'subtotal': 2325.0, 'tax_rate': 0.0675, 'tax_amount': 157.84, 'total_amount': 2482.84, 'salesperson': '', 'po_number': '', 'terms': 'Total payment due in 30 days', 'ship_date': '', 'ship_via': '', 'fob': '', 'created_at': '2014-05-01T00:00:00+00:00', 'extraction_confidence': 0.99, 'items': [{'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2014-05-01T00:00:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2014-05-01T00:00:00+00:00'}, {'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2023-10-11T18:35:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2023-10-11T18:35:00+00:00'}]}
2025-09-23 19:52:05,096 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 19:52:05,097 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 19:52:05,134 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoices from CSV
2025-09-23 19:52:05,136 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoices from CSV
2025-09-23 19:52:05,139 - app.infrastructure.data.csv_manager - INFO - Loaded 4 invoice details from CSV
2025-09-23 19:52:05,139 - app.infrastructure.data.csv_manager - INFO - Loaded 4 invoice details from CSV
2025-09-23 19:52:05,140 - app.infrastructure.data.csv_manager - INFO - Generated statistics: {'total_invoices': 2, 'total_items': 4, 'total_amount': 4965.68, 'last_updated': '2025-09-23T19:52:05.140264', 'files_exist': {'invoices_csv': True, 'details_csv': True}}
2025-09-23 19:52:05,140 - app.infrastructure.data.csv_manager - INFO - Retrieved 2 invoices with details
2025-09-23 19:52:05,141 - app.presentation.api.v1.endpoints.invoices - INFO - Raw invoices from data manager: 2 invoices
2025-09-23 19:52:05,141 - app.presentation.api.v1.endpoints.invoices - INFO - Sample invoice data: {'id': '123-456', 'invoice_number': '123-456', 'invoice_date': '2014-05-01T00:00:00+00:00', 'customer_id': 123, 'customer_name': '[Company Name]', 'billing_street': '[Street Address]', 'billing_city': '[City]', 'billing_state': '[ST]', 'billing_zip': '[ZIP]', 'billing_phone': '[Phone]', 'shipping_street': '[Street Address]', 'shipping_city': '[City]', 'shipping_state': '[ST]', 'shipping_zip': '[ZIP]', 'shipping_phone': '[Phone]', 'subtotal': 2325.0, 'tax_rate': 0.0675, 'tax_amount': 157.84, 'total_amount': 2482.84, 'salesperson': '', 'po_number': '', 'terms': 'Total payment due in 30 days', 'ship_date': '', 'ship_via': '', 'fob': '', 'created_at': '2014-05-01T00:00:00+00:00', 'extraction_confidence': 0.99, 'items': [{'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2014-05-01T00:00:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2014-05-01T00:00:00+00:00'}, {'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2023-10-11T18:35:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2023-10-11T18:35:00+00:00'}]}
2025-09-23 19:52:52,771 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 19:52:52,773 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 19:52:52,776 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoices from CSV
2025-09-23 19:52:52,780 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoices from CSV
2025-09-23 19:52:52,782 - app.infrastructure.data.csv_manager - INFO - Loaded 4 invoice details from CSV
2025-09-23 19:52:52,783 - app.infrastructure.data.csv_manager - INFO - Loaded 4 invoice details from CSV
2025-09-23 19:52:52,783 - app.infrastructure.data.csv_manager - INFO - Generated statistics: {'total_invoices': 2, 'total_items': 4, 'total_amount': 4965.68, 'last_updated': '2025-09-23T19:52:52.783214', 'files_exist': {'invoices_csv': True, 'details_csv': True}}
2025-09-23 19:52:52,783 - app.infrastructure.data.csv_manager - INFO - Retrieved 2 invoices with details
2025-09-23 19:52:52,783 - app.presentation.api.v1.endpoints.invoices - INFO - Raw invoices from data manager: 2 invoices
2025-09-23 19:52:52,783 - app.presentation.api.v1.endpoints.invoices - INFO - Sample invoice data: {'id': '123-456', 'invoice_number': '123-456', 'invoice_date': '2014-05-01T00:00:00+00:00', 'customer_id': 123, 'customer_name': '[Company Name]', 'billing_street': '[Street Address]', 'billing_city': '[City]', 'billing_state': '[ST]', 'billing_zip': '[ZIP]', 'billing_phone': '[Phone]', 'shipping_street': '[Street Address]', 'shipping_city': '[City]', 'shipping_state': '[ST]', 'shipping_zip': '[ZIP]', 'shipping_phone': '[Phone]', 'subtotal': 2325.0, 'tax_rate': 0.0675, 'tax_amount': 157.84, 'total_amount': 2482.84, 'salesperson': '', 'po_number': '', 'terms': 'Total payment due in 30 days', 'ship_date': '', 'ship_via': '', 'fob': '', 'created_at': '2014-05-01T00:00:00+00:00', 'extraction_confidence': 0.99, 'items': [{'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2014-05-01T00:00:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2014-05-01T00:00:00+00:00'}, {'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2023-10-11T18:35:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2023-10-11T18:35:00+00:00'}]}
2025-09-23 19:52:52,785 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 19:52:52,785 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 19:52:52,788 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoices from CSV
2025-09-23 19:52:52,792 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoices from CSV
2025-09-23 19:52:52,793 - app.infrastructure.data.csv_manager - INFO - Loaded 4 invoice details from CSV
2025-09-23 19:52:52,795 - app.infrastructure.data.csv_manager - INFO - Loaded 4 invoice details from CSV
2025-09-23 19:52:52,795 - app.infrastructure.data.csv_manager - INFO - Retrieved 2 invoices with details
2025-09-23 19:52:52,795 - app.presentation.api.v1.endpoints.invoices - INFO - Raw invoices from data manager: 2 invoices
2025-09-23 19:52:52,795 - app.presentation.api.v1.endpoints.invoices - INFO - Sample invoice data: {'id': '123-456', 'invoice_number': '123-456', 'invoice_date': '2014-05-01T00:00:00+00:00', 'customer_id': 123, 'customer_name': '[Company Name]', 'billing_street': '[Street Address]', 'billing_city': '[City]', 'billing_state': '[ST]', 'billing_zip': '[ZIP]', 'billing_phone': '[Phone]', 'shipping_street': '[Street Address]', 'shipping_city': '[City]', 'shipping_state': '[ST]', 'shipping_zip': '[ZIP]', 'shipping_phone': '[Phone]', 'subtotal': 2325.0, 'tax_rate': 0.0675, 'tax_amount': 157.84, 'total_amount': 2482.84, 'salesperson': '', 'po_number': '', 'terms': 'Total payment due in 30 days', 'ship_date': '', 'ship_via': '', 'fob': '', 'created_at': '2014-05-01T00:00:00+00:00', 'extraction_confidence': 0.99, 'items': [{'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2014-05-01T00:00:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2014-05-01T00:00:00+00:00'}, {'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2023-10-11T18:35:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2023-10-11T18:35:00+00:00'}]}
2025-09-23 19:52:52,795 - app.infrastructure.data.csv_manager - INFO - Generated statistics: {'total_invoices': 2, 'total_items': 4, 'total_amount': 4965.68, 'last_updated': '2025-09-23T19:52:52.795222', 'files_exist': {'invoices_csv': True, 'details_csv': True}}
2025-09-23 19:53:23,370 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 19:53:23,371 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 19:53:23,377 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoices from CSV
2025-09-23 19:53:23,380 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoices from CSV
2025-09-23 19:53:23,382 - app.infrastructure.data.csv_manager - INFO - Loaded 4 invoice details from CSV
2025-09-23 19:53:23,382 - app.infrastructure.data.csv_manager - INFO - Generated statistics: {'total_invoices': 2, 'total_items': 4, 'total_amount': 4965.68, 'last_updated': '2025-09-23T19:53:23.382385', 'files_exist': {'invoices_csv': True, 'details_csv': True}}
2025-09-23 19:53:23,384 - app.infrastructure.data.csv_manager - INFO - Loaded 4 invoice details from CSV
2025-09-23 19:53:23,384 - app.infrastructure.data.csv_manager - INFO - Retrieved 2 invoices with details
2025-09-23 19:53:23,385 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 19:53:23,385 - app.presentation.api.v1.endpoints.invoices - INFO - Raw invoices from data manager: 2 invoices
2025-09-23 19:53:23,385 - app.presentation.api.v1.endpoints.invoices - INFO - Sample invoice data: {'id': '123-456', 'invoice_number': '123-456', 'invoice_date': '2014-05-01T00:00:00+00:00', 'customer_id': 123, 'customer_name': '[Company Name]', 'billing_street': '[Street Address]', 'billing_city': '[City]', 'billing_state': '[ST]', 'billing_zip': '[ZIP]', 'billing_phone': '[Phone]', 'shipping_street': '[Street Address]', 'shipping_city': '[City]', 'shipping_state': '[ST]', 'shipping_zip': '[ZIP]', 'shipping_phone': '[Phone]', 'subtotal': 2325.0, 'tax_rate': 0.0675, 'tax_amount': 157.84, 'total_amount': 2482.84, 'salesperson': '', 'po_number': '', 'terms': 'Total payment due in 30 days', 'ship_date': '', 'ship_via': '', 'fob': '', 'created_at': '2014-05-01T00:00:00+00:00', 'extraction_confidence': 0.99, 'items': [{'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2014-05-01T00:00:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2014-05-01T00:00:00+00:00'}, {'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2023-10-11T18:35:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2023-10-11T18:35:00+00:00'}]}
2025-09-23 19:53:23,389 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoices from CSV
2025-09-23 19:53:23,390 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 19:53:23,391 - app.infrastructure.data.csv_manager - INFO - Loaded 4 invoice details from CSV
2025-09-23 19:53:23,392 - app.infrastructure.data.csv_manager - INFO - Generated statistics: {'total_invoices': 2, 'total_items': 4, 'total_amount': 4965.68, 'last_updated': '2025-09-23T19:53:23.392113', 'files_exist': {'invoices_csv': True, 'details_csv': True}}
2025-09-23 19:53:23,396 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoices from CSV
2025-09-23 19:53:23,398 - app.infrastructure.data.csv_manager - INFO - Loaded 4 invoice details from CSV
2025-09-23 19:53:23,398 - app.infrastructure.data.csv_manager - INFO - Retrieved 2 invoices with details
2025-09-23 19:53:23,398 - app.presentation.api.v1.endpoints.invoices - INFO - Raw invoices from data manager: 2 invoices
2025-09-23 19:53:23,398 - app.presentation.api.v1.endpoints.invoices - INFO - Sample invoice data: {'id': '123-456', 'invoice_number': '123-456', 'invoice_date': '2014-05-01T00:00:00+00:00', 'customer_id': 123, 'customer_name': '[Company Name]', 'billing_street': '[Street Address]', 'billing_city': '[City]', 'billing_state': '[ST]', 'billing_zip': '[ZIP]', 'billing_phone': '[Phone]', 'shipping_street': '[Street Address]', 'shipping_city': '[City]', 'shipping_state': '[ST]', 'shipping_zip': '[ZIP]', 'shipping_phone': '[Phone]', 'subtotal': 2325.0, 'tax_rate': 0.0675, 'tax_amount': 157.84, 'total_amount': 2482.84, 'salesperson': '', 'po_number': '', 'terms': 'Total payment due in 30 days', 'ship_date': '', 'ship_via': '', 'fob': '', 'created_at': '2014-05-01T00:00:00+00:00', 'extraction_confidence': 0.99, 'items': [{'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2014-05-01T00:00:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2014-05-01T00:00:00+00:00'}, {'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2023-10-11T18:35:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2023-10-11T18:35:00+00:00'}]}
2025-09-23 19:53:25,312 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 19:53:25,312 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 19:53:25,316 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoices from CSV
2025-09-23 19:53:25,320 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoices from CSV
2025-09-23 19:53:25,322 - app.infrastructure.data.csv_manager - INFO - Loaded 4 invoice details from CSV
2025-09-23 19:53:25,322 - app.infrastructure.data.csv_manager - INFO - Retrieved 2 invoices with details
2025-09-23 19:53:25,324 - app.infrastructure.data.csv_manager - INFO - Loaded 4 invoice details from CSV
2025-09-23 19:53:25,324 - app.presentation.api.v1.endpoints.invoices - INFO - Raw invoices from data manager: 2 invoices
2025-09-23 19:53:25,324 - app.presentation.api.v1.endpoints.invoices - INFO - Sample invoice data: {'id': '123-456', 'invoice_number': '123-456', 'invoice_date': '2014-05-01T00:00:00+00:00', 'customer_id': 123, 'customer_name': '[Company Name]', 'billing_street': '[Street Address]', 'billing_city': '[City]', 'billing_state': '[ST]', 'billing_zip': '[ZIP]', 'billing_phone': '[Phone]', 'shipping_street': '[Street Address]', 'shipping_city': '[City]', 'shipping_state': '[ST]', 'shipping_zip': '[ZIP]', 'shipping_phone': '[Phone]', 'subtotal': 2325.0, 'tax_rate': 0.0675, 'tax_amount': 157.84, 'total_amount': 2482.84, 'salesperson': '', 'po_number': '', 'terms': 'Total payment due in 30 days', 'ship_date': '', 'ship_via': '', 'fob': '', 'created_at': '2014-05-01T00:00:00+00:00', 'extraction_confidence': 0.99, 'items': [{'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2014-05-01T00:00:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2014-05-01T00:00:00+00:00'}, {'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2023-10-11T18:35:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2023-10-11T18:35:00+00:00'}]}
2025-09-23 19:53:25,324 - app.infrastructure.data.csv_manager - INFO - Generated statistics: {'total_invoices': 2, 'total_items': 4, 'total_amount': 4965.68, 'last_updated': '2025-09-23T19:53:25.324355', 'files_exist': {'invoices_csv': True, 'details_csv': True}}
2025-09-23 19:53:25,326 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 19:53:25,326 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 19:53:25,330 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoices from CSV
2025-09-23 19:53:25,334 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoices from CSV
2025-09-23 19:53:25,335 - app.infrastructure.data.csv_manager - INFO - Loaded 4 invoice details from CSV
2025-09-23 19:53:25,335 - app.infrastructure.data.csv_manager - INFO - Generated statistics: {'total_invoices': 2, 'total_items': 4, 'total_amount': 4965.68, 'last_updated': '2025-09-23T19:53:25.335490', 'files_exist': {'invoices_csv': True, 'details_csv': True}}
2025-09-23 19:53:25,337 - app.infrastructure.data.csv_manager - INFO - Loaded 4 invoice details from CSV
2025-09-23 19:53:25,337 - app.infrastructure.data.csv_manager - INFO - Retrieved 2 invoices with details
2025-09-23 19:53:25,337 - app.presentation.api.v1.endpoints.invoices - INFO - Raw invoices from data manager: 2 invoices
2025-09-23 19:53:25,337 - app.presentation.api.v1.endpoints.invoices - INFO - Sample invoice data: {'id': '123-456', 'invoice_number': '123-456', 'invoice_date': '2014-05-01T00:00:00+00:00', 'customer_id': 123, 'customer_name': '[Company Name]', 'billing_street': '[Street Address]', 'billing_city': '[City]', 'billing_state': '[ST]', 'billing_zip': '[ZIP]', 'billing_phone': '[Phone]', 'shipping_street': '[Street Address]', 'shipping_city': '[City]', 'shipping_state': '[ST]', 'shipping_zip': '[ZIP]', 'shipping_phone': '[Phone]', 'subtotal': 2325.0, 'tax_rate': 0.0675, 'tax_amount': 157.84, 'total_amount': 2482.84, 'salesperson': '', 'po_number': '', 'terms': 'Total payment due in 30 days', 'ship_date': '', 'ship_via': '', 'fob': '', 'created_at': '2014-05-01T00:00:00+00:00', 'extraction_confidence': 0.99, 'items': [{'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2014-05-01T00:00:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2014-05-01T00:00:00+00:00'}, {'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2023-10-11T18:35:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2023-10-11T18:35:00+00:00'}]}
2025-09-23 19:53:30,073 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 19:53:30,074 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 19:53:30,077 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoices from CSV
2025-09-23 19:53:30,082 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoices from CSV
2025-09-23 19:53:30,083 - app.infrastructure.data.csv_manager - INFO - Loaded 4 invoice details from CSV
2025-09-23 19:53:30,085 - app.infrastructure.data.csv_manager - INFO - Loaded 4 invoice details from CSV
2025-09-23 19:53:30,085 - app.infrastructure.data.csv_manager - INFO - Generated statistics: {'total_invoices': 2, 'total_items': 4, 'total_amount': 4965.68, 'last_updated': '2025-09-23T19:53:30.085256', 'files_exist': {'invoices_csv': True, 'details_csv': True}}
2025-09-23 19:53:30,085 - app.infrastructure.data.csv_manager - INFO - Retrieved 2 invoices with details
2025-09-23 19:53:30,085 - app.presentation.api.v1.endpoints.invoices - INFO - Raw invoices from data manager: 2 invoices
2025-09-23 19:53:30,085 - app.presentation.api.v1.endpoints.invoices - INFO - Sample invoice data: {'id': '123-456', 'invoice_number': '123-456', 'invoice_date': '2014-05-01T00:00:00+00:00', 'customer_id': 123, 'customer_name': '[Company Name]', 'billing_street': '[Street Address]', 'billing_city': '[City]', 'billing_state': '[ST]', 'billing_zip': '[ZIP]', 'billing_phone': '[Phone]', 'shipping_street': '[Street Address]', 'shipping_city': '[City]', 'shipping_state': '[ST]', 'shipping_zip': '[ZIP]', 'shipping_phone': '[Phone]', 'subtotal': 2325.0, 'tax_rate': 0.0675, 'tax_amount': 157.84, 'total_amount': 2482.84, 'salesperson': '', 'po_number': '', 'terms': 'Total payment due in 30 days', 'ship_date': '', 'ship_via': '', 'fob': '', 'created_at': '2014-05-01T00:00:00+00:00', 'extraction_confidence': 0.99, 'items': [{'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2014-05-01T00:00:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2014-05-01T00:00:00+00:00'}, {'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2023-10-11T18:35:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2023-10-11T18:35:00+00:00'}]}
2025-09-23 19:53:30,087 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 19:53:30,087 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 19:53:30,091 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoices from CSV
2025-09-23 19:53:30,095 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoices from CSV
2025-09-23 19:53:30,097 - app.infrastructure.data.csv_manager - INFO - Loaded 4 invoice details from CSV
2025-09-23 19:53:30,098 - app.infrastructure.data.csv_manager - INFO - Loaded 4 invoice details from CSV
2025-09-23 19:53:30,098 - app.infrastructure.data.csv_manager - INFO - Generated statistics: {'total_invoices': 2, 'total_items': 4, 'total_amount': 4965.68, 'last_updated': '2025-09-23T19:53:30.098525', 'files_exist': {'invoices_csv': True, 'details_csv': True}}
2025-09-23 19:53:30,098 - app.infrastructure.data.csv_manager - INFO - Retrieved 2 invoices with details
2025-09-23 19:53:30,098 - app.presentation.api.v1.endpoints.invoices - INFO - Raw invoices from data manager: 2 invoices
2025-09-23 19:53:30,099 - app.presentation.api.v1.endpoints.invoices - INFO - Sample invoice data: {'id': '123-456', 'invoice_number': '123-456', 'invoice_date': '2014-05-01T00:00:00+00:00', 'customer_id': 123, 'customer_name': '[Company Name]', 'billing_street': '[Street Address]', 'billing_city': '[City]', 'billing_state': '[ST]', 'billing_zip': '[ZIP]', 'billing_phone': '[Phone]', 'shipping_street': '[Street Address]', 'shipping_city': '[City]', 'shipping_state': '[ST]', 'shipping_zip': '[ZIP]', 'shipping_phone': '[Phone]', 'subtotal': 2325.0, 'tax_rate': 0.0675, 'tax_amount': 157.84, 'total_amount': 2482.84, 'salesperson': '', 'po_number': '', 'terms': 'Total payment due in 30 days', 'ship_date': '', 'ship_via': '', 'fob': '', 'created_at': '2014-05-01T00:00:00+00:00', 'extraction_confidence': 0.99, 'items': [{'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2014-05-01T00:00:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2014-05-01T00:00:00+00:00'}, {'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2023-10-11T18:35:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2023-10-11T18:35:00+00:00'}]}
2025-09-23 19:53:40,692 - app.presentation.api.v1.endpoints.upload - INFO - File uploaded successfully: 77324e98-186a-4ea7-b504-fc1735cc2d2a_Sales_Invoice.png (30753 bytes)
2025-09-23 19:53:40,764 - app.infrastructure.ai.openai_client - INFO - Initialized OpenAI client with model: gpt-4o-2024-11-20
2025-09-23 19:53:40,764 - app.infrastructure.ai.openai_client - INFO - Starting extraction for document 77324e98-186a-4ea7-b504-fc1735cc2d2a
2025-09-23 19:53:52,708 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 19:53:52,751 - app.infrastructure.ai.openai_client - INFO - Successfully extracted data for invoice: 123-456 in 11.99s
2025-09-23 19:53:52,753 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 19:53:52,759 - app.infrastructure.data.csv_manager - INFO - Saved invoice 123-456 with ID 123-456
2025-09-23 19:53:52,759 - app.presentation.api.v1.endpoints.extraction - INFO - Successfully extracted and saved invoice: 123-456
2025-09-23 19:53:52,759 - app.presentation.api.v1.endpoints.extraction - INFO - Invoice dict being sent to frontend: {'id': '123-456', 'invoice_number': '123-456', 'invoice_date': '2014-05-01T00:00:00+00:00', 'customer_id': '123', 'customer_name': '[Company Name]', 'billing_address': {'street': '[Street Address]', 'city': '[City]', 'state': '[ST]', 'zip_code': '[ZIP]', 'phone': '[Phone]'}, 'shipping_address': {'street': '[Street Address]', 'city': '[City]', 'state': '[ST]', 'zip_code': '[ZIP]', 'phone': '[Phone]'}, 'items': [{'id': '1', 'item_number': '[2342-XYZ]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'total': 2250.0}, {'id': '2', 'item_number': '[456-ABC]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'total': 75.0}], 'subtotal': 2325.0, 'tax_rate': 0.0675, 'tax': 157.84, 'total': 2482.84, 'salesperson': '', 'po_number': '', 'terms': 'Total payment due in 30 days', 'ship_date': '', 'ship_via': '', 'fob': '', 'created_at': '2023-10-11T18:36:00+00:00', 'updated_at': '', 'extraction_confidence': 0.99}
2025-09-23 19:53:52,830 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 19:53:52,835 - app.infrastructure.data.csv_manager - INFO - Loaded 3 invoices from CSV
2025-09-23 19:53:52,837 - app.infrastructure.data.csv_manager - INFO - Loaded 6 invoice details from CSV
2025-09-23 19:53:52,837 - app.infrastructure.data.csv_manager - INFO - Retrieved 3 invoices with details
2025-09-23 19:53:52,837 - app.infrastructure.data.csv_manager - INFO - Found invoice with ID: 123-456
2025-09-23 19:53:52,838 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 19:53:52,842 - app.infrastructure.data.csv_manager - INFO - Loaded 3 invoices from CSV
2025-09-23 19:53:52,843 - app.infrastructure.data.csv_manager - INFO - Loaded 6 invoice details from CSV
2025-09-23 19:53:52,843 - app.infrastructure.data.csv_manager - INFO - Retrieved 3 invoices with details
2025-09-23 19:53:52,843 - app.infrastructure.data.csv_manager - INFO - Found invoice with ID: 123-456
2025-09-23 19:55:02,778 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 19:55:02,780 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 19:55:02,789 - app.infrastructure.data.csv_manager - INFO - Loaded 3 invoices from CSV
2025-09-23 19:55:02,794 - app.infrastructure.data.csv_manager - INFO - Loaded 3 invoices from CSV
2025-09-23 19:55:02,796 - app.infrastructure.data.csv_manager - INFO - Loaded 6 invoice details from CSV
2025-09-23 19:55:02,796 - app.infrastructure.data.csv_manager - INFO - Generated statistics: {'total_invoices': 3, 'total_items': 6, 'total_amount': 7448.52, 'last_updated': '2025-09-23T19:55:02.796534', 'files_exist': {'invoices_csv': True, 'details_csv': True}}
2025-09-23 19:55:02,798 - app.infrastructure.data.csv_manager - INFO - Loaded 6 invoice details from CSV
2025-09-23 19:55:02,798 - app.infrastructure.data.csv_manager - INFO - Retrieved 3 invoices with details
2025-09-23 19:55:02,799 - app.presentation.api.v1.endpoints.invoices - INFO - Raw invoices from data manager: 3 invoices
2025-09-23 19:55:02,799 - app.presentation.api.v1.endpoints.invoices - INFO - Sample invoice data: {'id': '123-456', 'invoice_number': '123-456', 'invoice_date': '2014-05-01T00:00:00+00:00', 'customer_id': 123, 'customer_name': '[Company Name]', 'billing_street': '[Street Address]', 'billing_city': '[City]', 'billing_state': '[ST]', 'billing_zip': '[ZIP]', 'billing_phone': '[Phone]', 'shipping_street': '[Street Address]', 'shipping_city': '[City]', 'shipping_state': '[ST]', 'shipping_zip': '[ZIP]', 'shipping_phone': '[Phone]', 'subtotal': 2325.0, 'tax_rate': 0.0675, 'tax_amount': 157.84, 'total_amount': 2482.84, 'salesperson': '', 'po_number': '', 'terms': 'Total payment due in 30 days', 'ship_date': '', 'ship_via': '', 'fob': '', 'created_at': '2014-05-01T00:00:00+00:00', 'extraction_confidence': 0.99, 'items': [{'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2014-05-01T00:00:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2014-05-01T00:00:00+00:00'}, {'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2023-10-11T18:35:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2023-10-11T18:35:00+00:00'}, {'id': 1, 'invoice_id': '123-456', 'item_number': '[2342-XYZ]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2023-10-11T18:36:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[456-ABC]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2023-10-11T18:36:00+00:00'}]}
2025-09-23 19:55:02,801 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 19:55:02,805 - app.infrastructure.data.csv_manager - INFO - Loaded 3 invoices from CSV
2025-09-23 19:55:02,805 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 19:55:02,812 - app.infrastructure.data.csv_manager - INFO - Loaded 6 invoice details from CSV
2025-09-23 19:55:02,814 - app.infrastructure.data.csv_manager - INFO - Loaded 3 invoices from CSV
2025-09-23 19:55:02,814 - app.infrastructure.data.csv_manager - INFO - Generated statistics: {'total_invoices': 3, 'total_items': 6, 'total_amount': 7448.52, 'last_updated': '2025-09-23T19:55:02.814563', 'files_exist': {'invoices_csv': True, 'details_csv': True}}
2025-09-23 19:55:02,816 - app.infrastructure.data.csv_manager - INFO - Loaded 6 invoice details from CSV
2025-09-23 19:55:02,817 - app.infrastructure.data.csv_manager - INFO - Retrieved 3 invoices with details
2025-09-23 19:55:02,817 - app.presentation.api.v1.endpoints.invoices - INFO - Raw invoices from data manager: 3 invoices
2025-09-23 19:55:02,817 - app.presentation.api.v1.endpoints.invoices - INFO - Sample invoice data: {'id': '123-456', 'invoice_number': '123-456', 'invoice_date': '2014-05-01T00:00:00+00:00', 'customer_id': 123, 'customer_name': '[Company Name]', 'billing_street': '[Street Address]', 'billing_city': '[City]', 'billing_state': '[ST]', 'billing_zip': '[ZIP]', 'billing_phone': '[Phone]', 'shipping_street': '[Street Address]', 'shipping_city': '[City]', 'shipping_state': '[ST]', 'shipping_zip': '[ZIP]', 'shipping_phone': '[Phone]', 'subtotal': 2325.0, 'tax_rate': 0.0675, 'tax_amount': 157.84, 'total_amount': 2482.84, 'salesperson': '', 'po_number': '', 'terms': 'Total payment due in 30 days', 'ship_date': '', 'ship_via': '', 'fob': '', 'created_at': '2014-05-01T00:00:00+00:00', 'extraction_confidence': 0.99, 'items': [{'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2014-05-01T00:00:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2014-05-01T00:00:00+00:00'}, {'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2023-10-11T18:35:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2023-10-11T18:35:00+00:00'}, {'id': 1, 'invoice_id': '123-456', 'item_number': '[2342-XYZ]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2023-10-11T18:36:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[456-ABC]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2023-10-11T18:36:00+00:00'}]}
2025-09-23 19:59:54,860 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 19:59:54,868 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 19:59:54,886 - app.infrastructure.data.csv_manager - INFO - Loaded 3 invoices from CSV
2025-09-23 19:59:54,890 - app.infrastructure.data.csv_manager - INFO - Loaded 3 invoices from CSV
2025-09-23 19:59:54,892 - app.infrastructure.data.csv_manager - INFO - Loaded 6 invoice details from CSV
2025-09-23 19:59:54,895 - app.infrastructure.data.csv_manager - INFO - Loaded 6 invoice details from CSV
2025-09-23 19:59:54,895 - app.infrastructure.data.csv_manager - INFO - Generated statistics: {'total_invoices': 3, 'total_items': 6, 'total_amount': 7448.52, 'last_updated': '2025-09-23T19:59:54.893043', 'files_exist': {'invoices_csv': True, 'details_csv': True}}
2025-09-23 19:59:54,895 - app.infrastructure.data.csv_manager - INFO - Retrieved 3 invoices with details
2025-09-23 19:59:54,896 - app.presentation.api.v1.endpoints.invoices - INFO - Raw invoices from data manager: 3 invoices
2025-09-23 19:59:54,897 - app.presentation.api.v1.endpoints.invoices - INFO - Sample invoice data: {'id': '123-456', 'invoice_number': '123-456', 'invoice_date': '2014-05-01T00:00:00+00:00', 'customer_id': 123, 'customer_name': '[Company Name]', 'billing_street': '[Street Address]', 'billing_city': '[City]', 'billing_state': '[ST]', 'billing_zip': '[ZIP]', 'billing_phone': '[Phone]', 'shipping_street': '[Street Address]', 'shipping_city': '[City]', 'shipping_state': '[ST]', 'shipping_zip': '[ZIP]', 'shipping_phone': '[Phone]', 'subtotal': 2325.0, 'tax_rate': 0.0675, 'tax_amount': 157.84, 'total_amount': 2482.84, 'salesperson': '', 'po_number': '', 'terms': 'Total payment due in 30 days', 'ship_date': '', 'ship_via': '', 'fob': '', 'created_at': '2014-05-01T00:00:00+00:00', 'extraction_confidence': 0.99, 'items': [{'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2014-05-01T00:00:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2014-05-01T00:00:00+00:00'}, {'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2023-10-11T18:35:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2023-10-11T18:35:00+00:00'}, {'id': 1, 'invoice_id': '123-456', 'item_number': '[2342-XYZ]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2023-10-11T18:36:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[456-ABC]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2023-10-11T18:36:00+00:00'}]}
2025-09-23 19:59:54,899 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 19:59:54,899 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 19:59:54,903 - app.infrastructure.data.csv_manager - INFO - Loaded 3 invoices from CSV
2025-09-23 19:59:54,907 - app.infrastructure.data.csv_manager - INFO - Loaded 3 invoices from CSV
2025-09-23 19:59:54,908 - app.infrastructure.data.csv_manager - INFO - Loaded 6 invoice details from CSV
2025-09-23 19:59:54,909 - app.infrastructure.data.csv_manager - INFO - Retrieved 3 invoices with details
2025-09-23 19:59:54,910 - app.infrastructure.data.csv_manager - INFO - Loaded 6 invoice details from CSV
2025-09-23 19:59:54,910 - app.presentation.api.v1.endpoints.invoices - INFO - Raw invoices from data manager: 3 invoices
2025-09-23 19:59:54,910 - app.infrastructure.data.csv_manager - INFO - Generated statistics: {'total_invoices': 3, 'total_items': 6, 'total_amount': 7448.52, 'last_updated': '2025-09-23T19:59:54.910310', 'files_exist': {'invoices_csv': True, 'details_csv': True}}
2025-09-23 19:59:54,910 - app.presentation.api.v1.endpoints.invoices - INFO - Sample invoice data: {'id': '123-456', 'invoice_number': '123-456', 'invoice_date': '2014-05-01T00:00:00+00:00', 'customer_id': 123, 'customer_name': '[Company Name]', 'billing_street': '[Street Address]', 'billing_city': '[City]', 'billing_state': '[ST]', 'billing_zip': '[ZIP]', 'billing_phone': '[Phone]', 'shipping_street': '[Street Address]', 'shipping_city': '[City]', 'shipping_state': '[ST]', 'shipping_zip': '[ZIP]', 'shipping_phone': '[Phone]', 'subtotal': 2325.0, 'tax_rate': 0.0675, 'tax_amount': 157.84, 'total_amount': 2482.84, 'salesperson': '', 'po_number': '', 'terms': 'Total payment due in 30 days', 'ship_date': '', 'ship_via': '', 'fob': '', 'created_at': '2014-05-01T00:00:00+00:00', 'extraction_confidence': 0.99, 'items': [{'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2014-05-01T00:00:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2014-05-01T00:00:00+00:00'}, {'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2023-10-11T18:35:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2023-10-11T18:35:00+00:00'}, {'id': 1, 'invoice_id': '123-456', 'item_number': '[2342-XYZ]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2023-10-11T18:36:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[456-ABC]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2023-10-11T18:36:00+00:00'}]}
2025-09-23 20:59:58,238 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 20:59:58,241 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 20:59:58,261 - app.infrastructure.data.csv_manager - INFO - Loaded 3 invoices from CSV
2025-09-23 20:59:58,264 - app.infrastructure.data.csv_manager - INFO - Loaded 3 invoices from CSV
2025-09-23 20:59:58,267 - app.infrastructure.data.csv_manager - INFO - Loaded 6 invoice details from CSV
2025-09-23 20:59:58,269 - app.infrastructure.data.csv_manager - INFO - Loaded 6 invoice details from CSV
2025-09-23 20:59:58,269 - app.infrastructure.data.csv_manager - INFO - Retrieved 3 invoices with details
2025-09-23 20:59:58,270 - app.infrastructure.data.csv_manager - INFO - Generated statistics: {'total_invoices': 3, 'total_items': 6, 'total_amount': 7448.52, 'last_updated': '2025-09-23T20:59:58.269683', 'files_exist': {'invoices_csv': True, 'details_csv': True}}
2025-09-23 20:59:58,270 - app.presentation.api.v1.endpoints.invoices - INFO - Raw invoices from data manager: 3 invoices
2025-09-23 20:59:58,270 - app.presentation.api.v1.endpoints.invoices - INFO - Sample invoice data: {'id': '123-456', 'invoice_number': '123-456', 'invoice_date': '2014-05-01T00:00:00+00:00', 'customer_id': 123, 'customer_name': '[Company Name]', 'billing_street': '[Street Address]', 'billing_city': '[City]', 'billing_state': '[ST]', 'billing_zip': '[ZIP]', 'billing_phone': '[Phone]', 'shipping_street': '[Street Address]', 'shipping_city': '[City]', 'shipping_state': '[ST]', 'shipping_zip': '[ZIP]', 'shipping_phone': '[Phone]', 'subtotal': 2325.0, 'tax_rate': 0.0675, 'tax_amount': 157.84, 'total_amount': 2482.84, 'salesperson': '', 'po_number': '', 'terms': 'Total payment due in 30 days', 'ship_date': '', 'ship_via': '', 'fob': '', 'created_at': '2014-05-01T00:00:00+00:00', 'extraction_confidence': 0.99, 'items': [{'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2014-05-01T00:00:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2014-05-01T00:00:00+00:00'}, {'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2023-10-11T18:35:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2023-10-11T18:35:00+00:00'}, {'id': 1, 'invoice_id': '123-456', 'item_number': '[2342-XYZ]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2023-10-11T18:36:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[456-ABC]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2023-10-11T18:36:00+00:00'}]}
2025-09-23 21:00:00,900 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 21:00:00,910 - app.infrastructure.data.csv_manager - INFO - Loaded 3 invoices from CSV
2025-09-23 21:00:00,910 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 21:00:00,913 - app.infrastructure.data.csv_manager - INFO - Loaded 6 invoice details from CSV
2025-09-23 21:00:00,913 - app.infrastructure.data.csv_manager - INFO - Generated statistics: {'total_invoices': 3, 'total_items': 6, 'total_amount': 7448.52, 'last_updated': '2025-09-23T21:00:00.913278', 'files_exist': {'invoices_csv': True, 'details_csv': True}}
2025-09-23 21:00:00,917 - app.infrastructure.data.csv_manager - INFO - Loaded 3 invoices from CSV
2025-09-23 21:00:00,919 - app.infrastructure.data.csv_manager - INFO - Loaded 6 invoice details from CSV
2025-09-23 21:00:00,919 - app.infrastructure.data.csv_manager - INFO - Retrieved 3 invoices with details
2025-09-23 21:00:00,919 - app.presentation.api.v1.endpoints.invoices - INFO - Raw invoices from data manager: 3 invoices
2025-09-23 21:00:00,919 - app.presentation.api.v1.endpoints.invoices - INFO - Sample invoice data: {'id': '123-456', 'invoice_number': '123-456', 'invoice_date': '2014-05-01T00:00:00+00:00', 'customer_id': 123, 'customer_name': '[Company Name]', 'billing_street': '[Street Address]', 'billing_city': '[City]', 'billing_state': '[ST]', 'billing_zip': '[ZIP]', 'billing_phone': '[Phone]', 'shipping_street': '[Street Address]', 'shipping_city': '[City]', 'shipping_state': '[ST]', 'shipping_zip': '[ZIP]', 'shipping_phone': '[Phone]', 'subtotal': 2325.0, 'tax_rate': 0.0675, 'tax_amount': 157.84, 'total_amount': 2482.84, 'salesperson': '', 'po_number': '', 'terms': 'Total payment due in 30 days', 'ship_date': '', 'ship_via': '', 'fob': '', 'created_at': '2014-05-01T00:00:00+00:00', 'extraction_confidence': 0.99, 'items': [{'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2014-05-01T00:00:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2014-05-01T00:00:00+00:00'}, {'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2023-10-11T18:35:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2023-10-11T18:35:00+00:00'}, {'id': 1, 'invoice_id': '123-456', 'item_number': '[2342-XYZ]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2023-10-11T18:36:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[456-ABC]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2023-10-11T18:36:00+00:00'}]}
2025-09-23 21:00:02,674 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 21:00:02,675 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 21:00:02,680 - app.infrastructure.data.csv_manager - INFO - Loaded 3 invoices from CSV
2025-09-23 21:00:02,685 - app.infrastructure.data.csv_manager - INFO - Loaded 3 invoices from CSV
2025-09-23 21:00:02,687 - app.infrastructure.data.csv_manager - INFO - Loaded 6 invoice details from CSV
2025-09-23 21:00:02,689 - app.infrastructure.data.csv_manager - INFO - Loaded 6 invoice details from CSV
2025-09-23 21:00:02,689 - app.infrastructure.data.csv_manager - INFO - Generated statistics: {'total_invoices': 3, 'total_items': 6, 'total_amount': 7448.52, 'last_updated': '2025-09-23T21:00:02.689779', 'files_exist': {'invoices_csv': True, 'details_csv': True}}
2025-09-23 21:00:02,690 - app.infrastructure.data.csv_manager - INFO - Retrieved 3 invoices with details
2025-09-23 21:00:02,690 - app.presentation.api.v1.endpoints.invoices - INFO - Raw invoices from data manager: 3 invoices
2025-09-23 21:00:02,690 - app.presentation.api.v1.endpoints.invoices - INFO - Sample invoice data: {'id': '123-456', 'invoice_number': '123-456', 'invoice_date': '2014-05-01T00:00:00+00:00', 'customer_id': 123, 'customer_name': '[Company Name]', 'billing_street': '[Street Address]', 'billing_city': '[City]', 'billing_state': '[ST]', 'billing_zip': '[ZIP]', 'billing_phone': '[Phone]', 'shipping_street': '[Street Address]', 'shipping_city': '[City]', 'shipping_state': '[ST]', 'shipping_zip': '[ZIP]', 'shipping_phone': '[Phone]', 'subtotal': 2325.0, 'tax_rate': 0.0675, 'tax_amount': 157.84, 'total_amount': 2482.84, 'salesperson': '', 'po_number': '', 'terms': 'Total payment due in 30 days', 'ship_date': '', 'ship_via': '', 'fob': '', 'created_at': '2014-05-01T00:00:00+00:00', 'extraction_confidence': 0.99, 'items': [{'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2014-05-01T00:00:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2014-05-01T00:00:00+00:00'}, {'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2023-10-11T18:35:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2023-10-11T18:35:00+00:00'}, {'id': 1, 'invoice_id': '123-456', 'item_number': '[2342-XYZ]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2023-10-11T18:36:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[456-ABC]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2023-10-11T18:36:00+00:00'}]}
2025-09-23 21:00:06,008 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 21:00:06,009 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 21:00:06,016 - app.infrastructure.data.csv_manager - INFO - Loaded 3 invoices from CSV
2025-09-23 21:00:06,019 - app.infrastructure.data.csv_manager - INFO - Loaded 3 invoices from CSV
2025-09-23 21:00:06,021 - app.infrastructure.data.csv_manager - INFO - Loaded 6 invoice details from CSV
2025-09-23 21:00:06,022 - app.infrastructure.data.csv_manager - INFO - Retrieved 3 invoices with details
2025-09-23 21:00:06,023 - app.infrastructure.data.csv_manager - INFO - Loaded 6 invoice details from CSV
2025-09-23 21:00:06,023 - app.presentation.api.v1.endpoints.invoices - INFO - Raw invoices from data manager: 3 invoices
2025-09-23 21:00:06,024 - app.infrastructure.data.csv_manager - INFO - Generated statistics: {'total_invoices': 3, 'total_items': 6, 'total_amount': 7448.52, 'last_updated': '2025-09-23T21:00:06.024061', 'files_exist': {'invoices_csv': True, 'details_csv': True}}
2025-09-23 21:00:06,024 - app.presentation.api.v1.endpoints.invoices - INFO - Sample invoice data: {'id': '123-456', 'invoice_number': '123-456', 'invoice_date': '2014-05-01T00:00:00+00:00', 'customer_id': 123, 'customer_name': '[Company Name]', 'billing_street': '[Street Address]', 'billing_city': '[City]', 'billing_state': '[ST]', 'billing_zip': '[ZIP]', 'billing_phone': '[Phone]', 'shipping_street': '[Street Address]', 'shipping_city': '[City]', 'shipping_state': '[ST]', 'shipping_zip': '[ZIP]', 'shipping_phone': '[Phone]', 'subtotal': 2325.0, 'tax_rate': 0.0675, 'tax_amount': 157.84, 'total_amount': 2482.84, 'salesperson': '', 'po_number': '', 'terms': 'Total payment due in 30 days', 'ship_date': '', 'ship_via': '', 'fob': '', 'created_at': '2014-05-01T00:00:00+00:00', 'extraction_confidence': 0.99, 'items': [{'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2014-05-01T00:00:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2014-05-01T00:00:00+00:00'}, {'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2023-10-11T18:35:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2023-10-11T18:35:00+00:00'}, {'id': 1, 'invoice_id': '123-456', 'item_number': '[2342-XYZ]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2023-10-11T18:36:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[456-ABC]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2023-10-11T18:36:00+00:00'}]}
2025-09-23 21:00:25,029 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 21:00:25,031 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 21:00:25,036 - app.infrastructure.data.csv_manager - INFO - Loaded 3 invoices from CSV
2025-09-23 21:00:25,041 - app.infrastructure.data.csv_manager - INFO - Loaded 3 invoices from CSV
2025-09-23 21:00:25,043 - app.infrastructure.data.csv_manager - INFO - Loaded 6 invoice details from CSV
2025-09-23 21:00:25,043 - app.infrastructure.data.csv_manager - INFO - Generated statistics: {'total_invoices': 3, 'total_items': 6, 'total_amount': 7448.52, 'last_updated': '2025-09-23T21:00:25.043342', 'files_exist': {'invoices_csv': True, 'details_csv': True}}
2025-09-23 21:00:25,044 - app.infrastructure.data.csv_manager - INFO - Loaded 6 invoice details from CSV
2025-09-23 21:00:25,045 - app.infrastructure.data.csv_manager - INFO - Retrieved 3 invoices with details
2025-09-23 21:00:25,045 - app.presentation.api.v1.endpoints.invoices - INFO - Raw invoices from data manager: 3 invoices
2025-09-23 21:00:25,045 - app.presentation.api.v1.endpoints.invoices - INFO - Sample invoice data: {'id': '123-456', 'invoice_number': '123-456', 'invoice_date': '2014-05-01T00:00:00+00:00', 'customer_id': 123, 'customer_name': '[Company Name]', 'billing_street': '[Street Address]', 'billing_city': '[City]', 'billing_state': '[ST]', 'billing_zip': '[ZIP]', 'billing_phone': '[Phone]', 'shipping_street': '[Street Address]', 'shipping_city': '[City]', 'shipping_state': '[ST]', 'shipping_zip': '[ZIP]', 'shipping_phone': '[Phone]', 'subtotal': 2325.0, 'tax_rate': 0.0675, 'tax_amount': 157.84, 'total_amount': 2482.84, 'salesperson': '', 'po_number': '', 'terms': 'Total payment due in 30 days', 'ship_date': '', 'ship_via': '', 'fob': '', 'created_at': '2014-05-01T00:00:00+00:00', 'extraction_confidence': 0.99, 'items': [{'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2014-05-01T00:00:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2014-05-01T00:00:00+00:00'}, {'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2023-10-11T18:35:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2023-10-11T18:35:00+00:00'}, {'id': 1, 'invoice_id': '123-456', 'item_number': '[2342-XYZ]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2023-10-11T18:36:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[456-ABC]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2023-10-11T18:36:00+00:00'}]}
2025-09-23 21:00:33,952 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 21:00:33,953 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 21:00:33,958 - app.infrastructure.data.csv_manager - INFO - Loaded 3 invoices from CSV
2025-09-23 21:00:33,961 - app.infrastructure.data.csv_manager - INFO - Loaded 6 invoice details from CSV
2025-09-23 21:00:33,961 - app.infrastructure.data.csv_manager - INFO - Generated statistics: {'total_invoices': 3, 'total_items': 6, 'total_amount': 7448.52, 'last_updated': '2025-09-23T21:00:33.961429', 'files_exist': {'invoices_csv': True, 'details_csv': True}}
2025-09-23 21:00:33,965 - app.infrastructure.data.csv_manager - INFO - Loaded 3 invoices from CSV
2025-09-23 21:00:33,967 - app.infrastructure.data.csv_manager - INFO - Loaded 6 invoice details from CSV
2025-09-23 21:00:33,967 - app.infrastructure.data.csv_manager - INFO - Retrieved 3 invoices with details
2025-09-23 21:00:33,967 - app.presentation.api.v1.endpoints.invoices - INFO - Raw invoices from data manager: 3 invoices
2025-09-23 21:00:33,967 - app.presentation.api.v1.endpoints.invoices - INFO - Sample invoice data: {'id': '123-456', 'invoice_number': '123-456', 'invoice_date': '2014-05-01T00:00:00+00:00', 'customer_id': 123, 'customer_name': '[Company Name]', 'billing_street': '[Street Address]', 'billing_city': '[City]', 'billing_state': '[ST]', 'billing_zip': '[ZIP]', 'billing_phone': '[Phone]', 'shipping_street': '[Street Address]', 'shipping_city': '[City]', 'shipping_state': '[ST]', 'shipping_zip': '[ZIP]', 'shipping_phone': '[Phone]', 'subtotal': 2325.0, 'tax_rate': 0.0675, 'tax_amount': 157.84, 'total_amount': 2482.84, 'salesperson': '', 'po_number': '', 'terms': 'Total payment due in 30 days', 'ship_date': '', 'ship_via': '', 'fob': '', 'created_at': '2014-05-01T00:00:00+00:00', 'extraction_confidence': 0.99, 'items': [{'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2014-05-01T00:00:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2014-05-01T00:00:00+00:00'}, {'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2023-10-11T18:35:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2023-10-11T18:35:00+00:00'}, {'id': 1, 'invoice_id': '123-456', 'item_number': '[2342-XYZ]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2023-10-11T18:36:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[456-ABC]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2023-10-11T18:36:00+00:00'}]}
2025-09-23 21:01:01,503 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 21:01:01,506 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 21:01:01,512 - app.infrastructure.data.csv_manager - INFO - Loaded 3 invoices from CSV
2025-09-23 21:01:01,516 - app.infrastructure.data.csv_manager - INFO - Loaded 3 invoices from CSV
2025-09-23 21:01:01,518 - app.infrastructure.data.csv_manager - INFO - Loaded 6 invoice details from CSV
2025-09-23 21:01:01,518 - app.infrastructure.data.csv_manager - INFO - Generated statistics: {'total_invoices': 3, 'total_items': 6, 'total_amount': 7448.52, 'last_updated': '2025-09-23T21:01:01.518689', 'files_exist': {'invoices_csv': True, 'details_csv': True}}
2025-09-23 21:01:01,520 - app.infrastructure.data.csv_manager - INFO - Loaded 6 invoice details from CSV
2025-09-23 21:01:01,520 - app.infrastructure.data.csv_manager - INFO - Retrieved 3 invoices with details
2025-09-23 21:01:01,521 - app.presentation.api.v1.endpoints.invoices - INFO - Raw invoices from data manager: 3 invoices
2025-09-23 21:01:01,521 - app.presentation.api.v1.endpoints.invoices - INFO - Sample invoice data: {'id': '123-456', 'invoice_number': '123-456', 'invoice_date': '2014-05-01T00:00:00+00:00', 'customer_id': 123, 'customer_name': '[Company Name]', 'billing_street': '[Street Address]', 'billing_city': '[City]', 'billing_state': '[ST]', 'billing_zip': '[ZIP]', 'billing_phone': '[Phone]', 'shipping_street': '[Street Address]', 'shipping_city': '[City]', 'shipping_state': '[ST]', 'shipping_zip': '[ZIP]', 'shipping_phone': '[Phone]', 'subtotal': 2325.0, 'tax_rate': 0.0675, 'tax_amount': 157.84, 'total_amount': 2482.84, 'salesperson': '', 'po_number': '', 'terms': 'Total payment due in 30 days', 'ship_date': '', 'ship_via': '', 'fob': '', 'created_at': '2014-05-01T00:00:00+00:00', 'extraction_confidence': 0.99, 'items': [{'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2014-05-01T00:00:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2014-05-01T00:00:00+00:00'}, {'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2023-10-11T18:35:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2023-10-11T18:35:00+00:00'}, {'id': 1, 'invoice_id': '123-456', 'item_number': '[2342-XYZ]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2023-10-11T18:36:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[456-ABC]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2023-10-11T18:36:00+00:00'}]}
2025-09-23 21:01:03,624 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 21:01:03,626 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 21:01:03,632 - app.infrastructure.data.csv_manager - INFO - Loaded 3 invoices from CSV
2025-09-23 21:01:03,636 - app.infrastructure.data.csv_manager - INFO - Loaded 3 invoices from CSV
2025-09-23 21:01:03,637 - app.infrastructure.data.csv_manager - INFO - Loaded 6 invoice details from CSV
2025-09-23 21:01:03,637 - app.infrastructure.data.csv_manager - INFO - Generated statistics: {'total_invoices': 3, 'total_items': 6, 'total_amount': 7448.52, 'last_updated': '2025-09-23T21:01:03.637835', 'files_exist': {'invoices_csv': True, 'details_csv': True}}
2025-09-23 21:01:03,639 - app.infrastructure.data.csv_manager - INFO - Loaded 6 invoice details from CSV
2025-09-23 21:01:03,639 - app.infrastructure.data.csv_manager - INFO - Retrieved 3 invoices with details
2025-09-23 21:01:03,639 - app.presentation.api.v1.endpoints.invoices - INFO - Raw invoices from data manager: 3 invoices
2025-09-23 21:01:03,640 - app.presentation.api.v1.endpoints.invoices - INFO - Sample invoice data: {'id': '123-456', 'invoice_number': '123-456', 'invoice_date': '2014-05-01T00:00:00+00:00', 'customer_id': 123, 'customer_name': '[Company Name]', 'billing_street': '[Street Address]', 'billing_city': '[City]', 'billing_state': '[ST]', 'billing_zip': '[ZIP]', 'billing_phone': '[Phone]', 'shipping_street': '[Street Address]', 'shipping_city': '[City]', 'shipping_state': '[ST]', 'shipping_zip': '[ZIP]', 'shipping_phone': '[Phone]', 'subtotal': 2325.0, 'tax_rate': 0.0675, 'tax_amount': 157.84, 'total_amount': 2482.84, 'salesperson': '', 'po_number': '', 'terms': 'Total payment due in 30 days', 'ship_date': '', 'ship_via': '', 'fob': '', 'created_at': '2014-05-01T00:00:00+00:00', 'extraction_confidence': 0.99, 'items': [{'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2014-05-01T00:00:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2014-05-01T00:00:00+00:00'}, {'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2023-10-11T18:35:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2023-10-11T18:35:00+00:00'}, {'id': 1, 'invoice_id': '123-456', 'item_number': '[2342-XYZ]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2023-10-11T18:36:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[456-ABC]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2023-10-11T18:36:00+00:00'}]}
2025-09-23 21:01:06,054 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 21:01:06,056 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 21:01:06,062 - app.infrastructure.data.csv_manager - INFO - Loaded 3 invoices from CSV
2025-09-23 21:01:06,067 - app.infrastructure.data.csv_manager - INFO - Loaded 3 invoices from CSV
2025-09-23 21:01:06,069 - app.infrastructure.data.csv_manager - INFO - Loaded 6 invoice details from CSV
2025-09-23 21:01:06,071 - app.infrastructure.data.csv_manager - INFO - Loaded 6 invoice details from CSV
2025-09-23 21:01:06,071 - app.infrastructure.data.csv_manager - INFO - Generated statistics: {'total_invoices': 3, 'total_items': 6, 'total_amount': 7448.52, 'last_updated': '2025-09-23T21:01:06.071614', 'files_exist': {'invoices_csv': True, 'details_csv': True}}
2025-09-23 21:01:06,071 - app.infrastructure.data.csv_manager - INFO - Retrieved 3 invoices with details
2025-09-23 21:01:06,072 - app.presentation.api.v1.endpoints.invoices - INFO - Raw invoices from data manager: 3 invoices
2025-09-23 21:01:06,072 - app.presentation.api.v1.endpoints.invoices - INFO - Sample invoice data: {'id': '123-456', 'invoice_number': '123-456', 'invoice_date': '2014-05-01T00:00:00+00:00', 'customer_id': 123, 'customer_name': '[Company Name]', 'billing_street': '[Street Address]', 'billing_city': '[City]', 'billing_state': '[ST]', 'billing_zip': '[ZIP]', 'billing_phone': '[Phone]', 'shipping_street': '[Street Address]', 'shipping_city': '[City]', 'shipping_state': '[ST]', 'shipping_zip': '[ZIP]', 'shipping_phone': '[Phone]', 'subtotal': 2325.0, 'tax_rate': 0.0675, 'tax_amount': 157.84, 'total_amount': 2482.84, 'salesperson': '', 'po_number': '', 'terms': 'Total payment due in 30 days', 'ship_date': '', 'ship_via': '', 'fob': '', 'created_at': '2014-05-01T00:00:00+00:00', 'extraction_confidence': 0.99, 'items': [{'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2014-05-01T00:00:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2014-05-01T00:00:00+00:00'}, {'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2023-10-11T18:35:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2023-10-11T18:35:00+00:00'}, {'id': 1, 'invoice_id': '123-456', 'item_number': '[2342-XYZ]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2023-10-11T18:36:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[456-ABC]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2023-10-11T18:36:00+00:00'}]}
2025-09-23 21:29:14,690 - app.presentation.api.v1.endpoints.upload - INFO - File uploaded successfully: aa1ba47a-a773-4aa7-abd7-079cf359670e_Sales_Invoice.png (30753 bytes)
2025-09-23 21:29:14,715 - app.infrastructure.ai.openai_client - INFO - Initialized OpenAI client with model: gpt-4o-2024-11-20
2025-09-23 21:29:14,716 - app.infrastructure.ai.openai_client - INFO - Starting extraction for document aa1ba47a-a773-4aa7-abd7-079cf359670e
2025-09-23 21:29:30,531 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 21:29:30,543 - app.infrastructure.ai.openai_client - INFO - Successfully extracted data for invoice: 123-456 in 15.83s
2025-09-23 21:29:30,545 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 21:29:30,556 - app.infrastructure.data.csv_manager - INFO - Saved invoice 123-456 with ID 123-456
2025-09-23 21:29:30,556 - app.presentation.api.v1.endpoints.extraction - INFO - Successfully extracted and saved invoice: 123-456
2025-09-23 21:29:30,557 - app.presentation.api.v1.endpoints.extraction - INFO - Invoice dict being sent to frontend: {'id': '123-456', 'invoice_number': '123-456', 'invoice_date': '2014-05-01T00:00:00+00:00', 'customer_id': '123', 'customer_name': '[Company Name]', 'billing_address': {'street': '[Street Address]', 'city': '[City]', 'state': '[ST]', 'zip_code': '[ZIP]', 'phone': '[Phone]'}, 'shipping_address': {'street': '[Street Address]', 'city': '[City]', 'state': '[ST]', 'zip_code': '[ZIP]', 'phone': '[Phone]'}, 'items': [{'id': '1', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'total': 2250.0}, {'id': '2', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'total': 75.0}], 'subtotal': 2325.0, 'tax_rate': 0.0675, 'tax': 157.84, 'total': 2482.84, 'salesperson': '', 'po_number': '', 'terms': 'Total payment due in 30 days', 'ship_date': '', 'ship_via': '', 'fob': '', 'created_at': '2023-10-11T18:40:00+00:00', 'updated_at': '', 'extraction_confidence': 0.99}
2025-09-23 21:29:30,587 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 21:29:30,599 - app.infrastructure.data.csv_manager - INFO - Loaded 4 invoices from CSV
2025-09-23 21:29:30,601 - app.infrastructure.data.csv_manager - INFO - Loaded 8 invoice details from CSV
2025-09-23 21:29:30,601 - app.infrastructure.data.csv_manager - INFO - Retrieved 4 invoices with details
2025-09-23 21:29:30,601 - app.infrastructure.data.csv_manager - INFO - Found invoice with ID: 123-456
2025-09-23 22:22:08,806 - werkzeug - WARNING -  * Debugger is active!
2025-09-23 22:27:32,696 - werkzeug - WARNING -  * Debugger is active!
2025-09-23 22:27:35,969 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 22:27:35,975 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 22:27:36,011 - app.infrastructure.data.csv_manager - INFO - Loaded 0 invoices from CSV
2025-09-23 22:27:36,012 - app.infrastructure.data.csv_manager - INFO - Loaded 0 invoices from CSV
2025-09-23 22:27:36,016 - app.infrastructure.data.csv_manager - INFO - Loaded 0 invoice details from CSV
2025-09-23 22:27:36,016 - app.infrastructure.data.csv_manager - INFO - Generated statistics: {'total_invoices': 0, 'total_items': 0, 'total_amount': 0.0, 'last_updated': '2025-09-23T22:27:36.016817', 'files_exist': {'invoices_csv': True, 'details_csv': True}}
2025-09-23 22:27:36,021 - app.infrastructure.data.csv_manager - INFO - Loaded 0 invoice details from CSV
2025-09-23 22:27:36,021 - app.infrastructure.data.csv_manager - INFO - Retrieved 0 invoices with details
2025-09-23 22:27:36,021 - app.presentation.api.v1.endpoints.invoices - INFO - Raw invoices from data manager: 0 invoices
2025-09-23 22:27:38,789 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 22:27:38,790 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 22:27:38,794 - app.infrastructure.data.csv_manager - INFO - Loaded 0 invoices from CSV
2025-09-23 22:27:38,799 - app.infrastructure.data.csv_manager - INFO - Loaded 0 invoices from CSV
2025-09-23 22:27:38,800 - app.infrastructure.data.csv_manager - INFO - Loaded 0 invoice details from CSV
2025-09-23 22:27:38,800 - app.infrastructure.data.csv_manager - INFO - Generated statistics: {'total_invoices': 0, 'total_items': 0, 'total_amount': 0.0, 'last_updated': '2025-09-23T22:27:38.800951', 'files_exist': {'invoices_csv': True, 'details_csv': True}}
2025-09-23 22:27:38,802 - app.infrastructure.data.csv_manager - INFO - Loaded 0 invoice details from CSV
2025-09-23 22:27:38,802 - app.infrastructure.data.csv_manager - INFO - Retrieved 0 invoices with details
2025-09-23 22:27:38,802 - app.presentation.api.v1.endpoints.invoices - INFO - Raw invoices from data manager: 0 invoices
2025-09-23 22:27:38,804 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 22:27:38,805 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 22:27:38,808 - app.infrastructure.data.csv_manager - INFO - Loaded 0 invoices from CSV
2025-09-23 22:27:38,812 - app.infrastructure.data.csv_manager - INFO - Loaded 0 invoices from CSV
2025-09-23 22:27:38,813 - app.infrastructure.data.csv_manager - INFO - Loaded 0 invoice details from CSV
2025-09-23 22:27:38,813 - app.infrastructure.data.csv_manager - INFO - Generated statistics: {'total_invoices': 0, 'total_items': 0, 'total_amount': 0.0, 'last_updated': '2025-09-23T22:27:38.813916', 'files_exist': {'invoices_csv': True, 'details_csv': True}}
2025-09-23 22:27:38,815 - app.infrastructure.data.csv_manager - INFO - Loaded 0 invoice details from CSV
2025-09-23 22:27:38,816 - app.infrastructure.data.csv_manager - INFO - Retrieved 0 invoices with details
2025-09-23 22:27:38,816 - app.presentation.api.v1.endpoints.invoices - INFO - Raw invoices from data manager: 0 invoices
2025-09-23 22:27:49,567 - app.presentation.api.v1.endpoints.upload - INFO - File uploaded successfully: 47b3f44f-e1c8-4884-97b8-2eed5d828db8_Sales_Invoice.png (30753 bytes)
2025-09-23 22:27:49,574 - app.presentation.api.v1.endpoints.extraction - ERROR - Extraction error for document 47b3f44f-e1c8-4884-97b8-2eed5d828db8: AsyncClient.__init__() got an unexpected keyword argument 'proxies'
2025-09-23 22:29:15,164 - werkzeug - WARNING -  * Debugger is active!
2025-09-23 22:29:24,286 - werkzeug - WARNING -  * Debugger is active!
2025-09-23 22:29:44,862 - werkzeug - WARNING -  * Debugger is active!
2025-09-23 22:30:14,892 - werkzeug - WARNING -  * Debugger is active!
2025-09-23 22:30:16,700 - app.presentation.api.v1.endpoints.upload - INFO - File uploaded successfully: 33ab029b-7188-4bef-8a64-0c5c3766bcbc_Sales_Invoice.png (30753 bytes)
2025-09-23 22:30:16,706 - app.presentation.api.v1.endpoints.extraction - ERROR - Extraction error for document 33ab029b-7188-4bef-8a64-0c5c3766bcbc: AsyncClient.__init__() got an unexpected keyword argument 'proxies'
2025-09-23 22:31:47,157 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 22:31:47,158 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 22:31:47,173 - app.infrastructure.data.csv_manager - INFO - Loaded 0 invoices from CSV
2025-09-23 22:31:47,174 - app.infrastructure.data.csv_manager - INFO - Loaded 0 invoices from CSV
2025-09-23 22:31:47,176 - app.infrastructure.data.csv_manager - INFO - Loaded 0 invoice details from CSV
2025-09-23 22:31:47,177 - app.infrastructure.data.csv_manager - INFO - Loaded 0 invoice details from CSV
2025-09-23 22:31:47,178 - app.infrastructure.data.csv_manager - INFO - Retrieved 0 invoices with details
2025-09-23 22:31:47,178 - app.infrastructure.data.csv_manager - INFO - Generated statistics: {'total_invoices': 0, 'total_items': 0, 'total_amount': 0.0, 'last_updated': '2025-09-23T22:31:47.177984', 'files_exist': {'invoices_csv': True, 'details_csv': True}}
2025-09-23 22:31:47,178 - app.presentation.api.v1.endpoints.invoices - INFO - Raw invoices from data manager: 0 invoices
2025-09-23 22:31:47,181 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 22:31:47,181 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 22:31:47,185 - app.infrastructure.data.csv_manager - INFO - Loaded 0 invoices from CSV
2025-09-23 22:31:47,189 - app.infrastructure.data.csv_manager - INFO - Loaded 0 invoices from CSV
2025-09-23 22:31:47,190 - app.infrastructure.data.csv_manager - INFO - Loaded 0 invoice details from CSV
2025-09-23 22:31:47,192 - app.infrastructure.data.csv_manager - INFO - Loaded 0 invoice details from CSV
2025-09-23 22:31:47,192 - app.infrastructure.data.csv_manager - INFO - Retrieved 0 invoices with details
2025-09-23 22:31:47,192 - app.infrastructure.data.csv_manager - INFO - Generated statistics: {'total_invoices': 0, 'total_items': 0, 'total_amount': 0.0, 'last_updated': '2025-09-23T22:31:47.192824', 'files_exist': {'invoices_csv': True, 'details_csv': True}}
2025-09-23 22:31:47,193 - app.presentation.api.v1.endpoints.invoices - INFO - Raw invoices from data manager: 0 invoices
2025-09-23 22:32:15,585 - werkzeug - WARNING -  * Debugger is active!
2025-09-23 22:32:19,022 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 22:32:19,024 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 22:32:19,052 - app.infrastructure.data.csv_manager - INFO - Loaded 0 invoices from CSV
2025-09-23 22:32:19,053 - app.infrastructure.data.csv_manager - INFO - Loaded 0 invoices from CSV
2025-09-23 22:32:19,058 - app.infrastructure.data.csv_manager - INFO - Loaded 0 invoice details from CSV
2025-09-23 22:32:19,059 - app.infrastructure.data.csv_manager - INFO - Generated statistics: {'total_invoices': 0, 'total_items': 0, 'total_amount': 0.0, 'last_updated': '2025-09-23T22:32:19.058912', 'files_exist': {'invoices_csv': True, 'details_csv': True}}
2025-09-23 22:32:19,063 - app.infrastructure.data.csv_manager - INFO - Loaded 0 invoice details from CSV
2025-09-23 22:32:19,063 - app.infrastructure.data.csv_manager - INFO - Retrieved 0 invoices with details
2025-09-23 22:32:19,064 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 22:32:19,064 - app.presentation.api.v1.endpoints.invoices - INFO - Raw invoices from data manager: 0 invoices
2025-09-23 22:32:19,070 - app.infrastructure.data.csv_manager - INFO - Loaded 0 invoices from CSV
2025-09-23 22:32:19,071 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 22:32:19,080 - app.infrastructure.data.csv_manager - INFO - Loaded 0 invoice details from CSV
2025-09-23 22:32:19,080 - app.infrastructure.data.csv_manager - INFO - Generated statistics: {'total_invoices': 0, 'total_items': 0, 'total_amount': 0.0, 'last_updated': '2025-09-23T22:32:19.080448', 'files_exist': {'invoices_csv': True, 'details_csv': True}}
2025-09-23 22:32:19,088 - app.infrastructure.data.csv_manager - INFO - Loaded 0 invoices from CSV
2025-09-23 22:32:19,092 - app.infrastructure.data.csv_manager - INFO - Loaded 0 invoice details from CSV
2025-09-23 22:32:19,092 - app.infrastructure.data.csv_manager - INFO - Retrieved 0 invoices with details
2025-09-23 22:32:19,092 - app.presentation.api.v1.endpoints.invoices - INFO - Raw invoices from data manager: 0 invoices
2025-09-23 22:32:20,352 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 22:32:20,353 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 22:32:20,357 - app.infrastructure.data.csv_manager - INFO - Loaded 0 invoices from CSV
2025-09-23 22:32:20,361 - app.infrastructure.data.csv_manager - INFO - Loaded 0 invoices from CSV
2025-09-23 22:32:20,363 - app.infrastructure.data.csv_manager - INFO - Loaded 0 invoice details from CSV
2025-09-23 22:32:20,364 - app.infrastructure.data.csv_manager - INFO - Loaded 0 invoice details from CSV
2025-09-23 22:32:20,364 - app.infrastructure.data.csv_manager - INFO - Generated statistics: {'total_invoices': 0, 'total_items': 0, 'total_amount': 0.0, 'last_updated': '2025-09-23T22:32:20.364708', 'files_exist': {'invoices_csv': True, 'details_csv': True}}
2025-09-23 22:32:20,364 - app.infrastructure.data.csv_manager - INFO - Retrieved 0 invoices with details
2025-09-23 22:32:20,365 - app.presentation.api.v1.endpoints.invoices - INFO - Raw invoices from data manager: 0 invoices
2025-09-23 22:32:20,367 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 22:32:20,367 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 22:32:20,371 - app.infrastructure.data.csv_manager - INFO - Loaded 0 invoices from CSV
2025-09-23 22:32:20,376 - app.infrastructure.data.csv_manager - INFO - Loaded 0 invoices from CSV
2025-09-23 22:32:20,378 - app.infrastructure.data.csv_manager - INFO - Loaded 0 invoice details from CSV
2025-09-23 22:32:20,379 - app.infrastructure.data.csv_manager - INFO - Loaded 0 invoice details from CSV
2025-09-23 22:32:20,379 - app.infrastructure.data.csv_manager - INFO - Retrieved 0 invoices with details
2025-09-23 22:32:20,379 - app.presentation.api.v1.endpoints.invoices - INFO - Raw invoices from data manager: 0 invoices
2025-09-23 22:32:20,379 - app.infrastructure.data.csv_manager - INFO - Generated statistics: {'total_invoices': 0, 'total_items': 0, 'total_amount': 0.0, 'last_updated': '2025-09-23T22:32:20.379507', 'files_exist': {'invoices_csv': True, 'details_csv': True}}
2025-09-23 22:32:23,280 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 22:32:23,280 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 22:32:23,285 - app.infrastructure.data.csv_manager - INFO - Loaded 0 invoices from CSV
2025-09-23 22:32:23,289 - app.infrastructure.data.csv_manager - INFO - Loaded 0 invoices from CSV
2025-09-23 22:32:23,291 - app.infrastructure.data.csv_manager - INFO - Loaded 0 invoice details from CSV
2025-09-23 22:32:23,291 - app.infrastructure.data.csv_manager - INFO - Retrieved 0 invoices with details
2025-09-23 22:32:23,291 - app.presentation.api.v1.endpoints.invoices - INFO - Raw invoices from data manager: 0 invoices
2025-09-23 22:32:23,294 - app.infrastructure.data.csv_manager - INFO - Loaded 0 invoice details from CSV
2025-09-23 22:32:23,295 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 22:32:23,295 - app.infrastructure.data.csv_manager - INFO - Generated statistics: {'total_invoices': 0, 'total_items': 0, 'total_amount': 0.0, 'last_updated': '2025-09-23T22:32:23.294585', 'files_exist': {'invoices_csv': True, 'details_csv': True}}
2025-09-23 22:32:23,302 - app.infrastructure.data.csv_manager - INFO - Loaded 0 invoices from CSV
2025-09-23 22:32:23,302 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 22:32:23,307 - app.infrastructure.data.csv_manager - INFO - Loaded 0 invoices from CSV
2025-09-23 22:32:23,309 - app.infrastructure.data.csv_manager - INFO - Loaded 0 invoice details from CSV
2025-09-23 22:32:23,310 - app.infrastructure.data.csv_manager - INFO - Retrieved 0 invoices with details
2025-09-23 22:32:23,310 - app.presentation.api.v1.endpoints.invoices - INFO - Raw invoices from data manager: 0 invoices
2025-09-23 22:32:23,311 - app.infrastructure.data.csv_manager - INFO - Loaded 0 invoice details from CSV
2025-09-23 22:32:23,312 - app.infrastructure.data.csv_manager - INFO - Generated statistics: {'total_invoices': 0, 'total_items': 0, 'total_amount': 0.0, 'last_updated': '2025-09-23T22:32:23.312071', 'files_exist': {'invoices_csv': True, 'details_csv': True}}
2025-09-23 22:33:42,592 - app.presentation.api.v1.endpoints.upload - INFO - File uploaded successfully: b1e3dc47-f53f-4e1e-91aa-13b6f12cfc34_Sales_Invoice.png (30753 bytes)
2025-09-23 22:33:42,613 - app.infrastructure.ai.openai_client - INFO - Initialized OpenAI client with model: gpt-4o-2024-11-20
2025-09-23 22:33:42,614 - app.infrastructure.ai.openai_client - INFO - Starting extraction for document b1e3dc47-f53f-4e1e-91aa-13b6f12cfc34
2025-09-23 22:34:07,779 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 22:34:07,792 - app.infrastructure.ai.openai_client - INFO - Successfully extracted data for invoice: 123-456 in 25.18s
2025-09-23 22:34:07,794 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 22:34:07,801 - app.infrastructure.data.csv_manager - INFO - Saved invoice 123-456 with ID 123-456
2025-09-23 22:34:07,801 - app.presentation.api.v1.endpoints.extraction - INFO - Successfully extracted and saved invoice: 123-456
2025-09-23 22:34:07,801 - app.presentation.api.v1.endpoints.extraction - INFO - Invoice dict being sent to frontend: {'id': '123-456', 'invoice_number': '123-456', 'invoice_date': '2014-05-01T00:00:00+00:00', 'customer_id': '123', 'customer_name': '[Company Name]', 'billing_address': {'street': '[Street Address]', 'city': '[City]', 'state': '[ST]', 'zip_code': '[ZIP]', 'phone': '[Phone]'}, 'shipping_address': {'street': '[Street Address]', 'city': '[City]', 'state': '[ST]', 'zip_code': '[ZIP]', 'phone': '[Phone]'}, 'items': [{'id': '1', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'total': 2250.0}, {'id': '2', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'total': 75.0}], 'subtotal': 2325.0, 'tax_rate': 0.0675, 'tax': 157.84, 'total': 2482.84, 'salesperson': '', 'po_number': '', 'terms': 'Total payment due in 30 days', 'ship_date': '', 'ship_via': '', 'fob': '', 'created_at': '2023-10-11T18:40:00+00:00', 'updated_at': '', 'extraction_confidence': 0.99}
2025-09-23 22:34:18,626 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 22:34:18,628 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 22:34:18,639 - app.infrastructure.data.csv_manager - INFO - Loaded 1 invoices from CSV
2025-09-23 22:34:18,642 - app.infrastructure.data.csv_manager - INFO - Loaded 1 invoices from CSV
2025-09-23 22:34:18,645 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoice details from CSV
2025-09-23 22:34:18,647 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoice details from CSV
2025-09-23 22:34:18,647 - app.infrastructure.data.csv_manager - INFO - Retrieved 1 invoices with details
2025-09-23 22:34:18,647 - app.infrastructure.data.csv_manager - INFO - Generated statistics: {'total_invoices': 1, 'total_items': 2, 'total_amount': 2482.84, 'last_updated': '2025-09-23T22:34:18.647550', 'files_exist': {'invoices_csv': True, 'details_csv': True}}
2025-09-23 22:34:18,647 - app.presentation.api.v1.endpoints.invoices - INFO - Raw invoices from data manager: 1 invoices
2025-09-23 22:34:18,648 - app.presentation.api.v1.endpoints.invoices - INFO - Sample invoice data: {'id': '123-456', 'invoice_number': '123-456', 'invoice_date': '2014-05-01T00:00:00+00:00', 'customer_id': 123, 'customer_name': '[Company Name]', 'billing_street': '[Street Address]', 'billing_city': '[City]', 'billing_state': '[ST]', 'billing_zip': '[ZIP]', 'billing_phone': '[Phone]', 'shipping_street': '[Street Address]', 'shipping_city': '[City]', 'shipping_state': '[ST]', 'shipping_zip': '[ZIP]', 'shipping_phone': '[Phone]', 'subtotal': 2325.0, 'tax_rate': 0.0675, 'tax_amount': 157.84, 'total_amount': 2482.84, 'salesperson': '', 'po_number': '', 'terms': 'Total payment due in 30 days', 'ship_date': '', 'ship_via': '', 'fob': '', 'created_at': '2023-10-11T18:40:00+00:00', 'extraction_confidence': 0.99, 'items': [{'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2023-10-11T18:40:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2023-10-11T18:40:00+00:00'}]}
2025-09-23 22:34:18,649 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 22:34:18,649 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 22:34:18,658 - app.infrastructure.data.csv_manager - INFO - Loaded 1 invoices from CSV
2025-09-23 22:34:18,664 - app.infrastructure.data.csv_manager - INFO - Loaded 1 invoices from CSV
2025-09-23 22:34:18,666 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoice details from CSV
2025-09-23 22:34:18,666 - app.infrastructure.data.csv_manager - INFO - Generated statistics: {'total_invoices': 1, 'total_items': 2, 'total_amount': 2482.84, 'last_updated': '2025-09-23T22:34:18.666405', 'files_exist': {'invoices_csv': True, 'details_csv': True}}
2025-09-23 22:34:18,668 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoice details from CSV
2025-09-23 22:34:18,668 - app.infrastructure.data.csv_manager - INFO - Retrieved 1 invoices with details
2025-09-23 22:34:18,668 - app.presentation.api.v1.endpoints.invoices - INFO - Raw invoices from data manager: 1 invoices
2025-09-23 22:34:18,668 - app.presentation.api.v1.endpoints.invoices - INFO - Sample invoice data: {'id': '123-456', 'invoice_number': '123-456', 'invoice_date': '2014-05-01T00:00:00+00:00', 'customer_id': 123, 'customer_name': '[Company Name]', 'billing_street': '[Street Address]', 'billing_city': '[City]', 'billing_state': '[ST]', 'billing_zip': '[ZIP]', 'billing_phone': '[Phone]', 'shipping_street': '[Street Address]', 'shipping_city': '[City]', 'shipping_state': '[ST]', 'shipping_zip': '[ZIP]', 'shipping_phone': '[Phone]', 'subtotal': 2325.0, 'tax_rate': 0.0675, 'tax_amount': 157.84, 'total_amount': 2482.84, 'salesperson': '', 'po_number': '', 'terms': 'Total payment due in 30 days', 'ship_date': '', 'ship_via': '', 'fob': '', 'created_at': '2023-10-11T18:40:00+00:00', 'extraction_confidence': 0.99, 'items': [{'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2023-10-11T18:40:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2023-10-11T18:40:00+00:00'}]}
2025-09-23 22:34:23,289 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 22:34:23,293 - app.infrastructure.data.csv_manager - INFO - Loaded 1 invoices from CSV
2025-09-23 22:34:23,298 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoice details from CSV
2025-09-23 22:34:23,298 - app.infrastructure.data.csv_manager - INFO - Retrieved 1 invoices with details
2025-09-23 22:34:23,298 - app.infrastructure.data.csv_manager - INFO - Found invoice with ID: 123-456
2025-09-23 22:34:23,300 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 22:34:23,304 - app.infrastructure.data.csv_manager - INFO - Loaded 1 invoices from CSV
2025-09-23 22:34:23,305 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoice details from CSV
2025-09-23 22:34:23,305 - app.infrastructure.data.csv_manager - INFO - Retrieved 1 invoices with details
2025-09-23 22:34:23,305 - app.infrastructure.data.csv_manager - INFO - Found invoice with ID: 123-456
2025-09-23 22:34:37,250 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 22:34:37,255 - app.infrastructure.data.csv_manager - INFO - Loaded 1 invoices from CSV
2025-09-23 22:34:37,257 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoice details from CSV
2025-09-23 22:34:37,257 - app.infrastructure.data.csv_manager - INFO - Retrieved 1 invoices with details
2025-09-23 22:34:37,257 - app.infrastructure.data.csv_manager - INFO - Found invoice with ID: 123-456
2025-09-23 22:34:37,266 - app.infrastructure.data.csv_manager - INFO - Updated invoice with ID: 123-456
2025-09-23 22:34:37,271 - app.infrastructure.data.csv_manager - INFO - Loaded 1 invoices from CSV
2025-09-23 22:34:37,272 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoice details from CSV
2025-09-23 22:34:37,272 - app.infrastructure.data.csv_manager - INFO - Retrieved 1 invoices with details
2025-09-23 22:34:37,272 - app.infrastructure.data.csv_manager - INFO - Found invoice with ID: 123-456
2025-09-23 22:34:44,877 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 22:34:44,878 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 22:34:44,884 - app.infrastructure.data.csv_manager - INFO - Loaded 1 invoices from CSV
2025-09-23 22:34:44,887 - app.infrastructure.data.csv_manager - INFO - Loaded 1 invoices from CSV
2025-09-23 22:34:44,889 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoice details from CSV
2025-09-23 22:34:44,889 - app.infrastructure.data.csv_manager - INFO - Generated statistics: {'total_invoices': 1, 'total_items': 2, 'total_amount': 2492.84, 'last_updated': '2025-09-23T22:34:44.889772', 'files_exist': {'invoices_csv': True, 'details_csv': True}}
2025-09-23 22:34:44,892 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoice details from CSV
2025-09-23 22:34:44,892 - app.infrastructure.data.csv_manager - INFO - Retrieved 1 invoices with details
2025-09-23 22:34:44,893 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 22:34:44,893 - app.presentation.api.v1.endpoints.invoices - INFO - Raw invoices from data manager: 1 invoices
2025-09-23 22:34:44,893 - app.presentation.api.v1.endpoints.invoices - INFO - Sample invoice data: {'id': '123-456', 'invoice_number': '123-456', 'invoice_date': '2014-05-01T00:00:00+00:00', 'customer_id': 123, 'customer_name': '[Company Name]', 'billing_street': '[Street Address]', 'billing_city': '[City]', 'billing_state': '[ST]', 'billing_zip': '[ZIP]', 'billing_phone': '[Phone]', 'shipping_street': '[Street Address]', 'shipping_city': '[City]', 'shipping_state': '[ST]', 'shipping_zip': '[ZIP]', 'shipping_phone': '[Phone]', 'subtotal': 2325.0, 'tax_rate': 0.0675, 'tax_amount': 167.84, 'total_amount': 2492.84, 'salesperson': '', 'po_number': '', 'terms': 'Total payment due in 30 days', 'ship_date': '', 'ship_via': '', 'fob': '', 'created_at': '2023-10-11T18:40:00+00:00', 'extraction_confidence': 0.99, 'updated_at': '2025-09-23T22:34:37.264195', 'items': [{'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2023-10-11T18:40:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2023-10-11T18:40:00+00:00'}]}
2025-09-23 22:34:44,897 - app.infrastructure.data.csv_manager - INFO - Loaded 1 invoices from CSV
2025-09-23 22:34:44,898 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 22:34:44,899 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoice details from CSV
2025-09-23 22:34:44,903 - app.infrastructure.data.csv_manager - INFO - Loaded 1 invoices from CSV
2025-09-23 22:34:44,903 - app.infrastructure.data.csv_manager - INFO - Generated statistics: {'total_invoices': 1, 'total_items': 2, 'total_amount': 2492.84, 'last_updated': '2025-09-23T22:34:44.903162', 'files_exist': {'invoices_csv': True, 'details_csv': True}}
2025-09-23 22:34:44,905 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoice details from CSV
2025-09-23 22:34:44,905 - app.infrastructure.data.csv_manager - INFO - Retrieved 1 invoices with details
2025-09-23 22:34:44,905 - app.presentation.api.v1.endpoints.invoices - INFO - Raw invoices from data manager: 1 invoices
2025-09-23 22:34:44,905 - app.presentation.api.v1.endpoints.invoices - INFO - Sample invoice data: {'id': '123-456', 'invoice_number': '123-456', 'invoice_date': '2014-05-01T00:00:00+00:00', 'customer_id': 123, 'customer_name': '[Company Name]', 'billing_street': '[Street Address]', 'billing_city': '[City]', 'billing_state': '[ST]', 'billing_zip': '[ZIP]', 'billing_phone': '[Phone]', 'shipping_street': '[Street Address]', 'shipping_city': '[City]', 'shipping_state': '[ST]', 'shipping_zip': '[ZIP]', 'shipping_phone': '[Phone]', 'subtotal': 2325.0, 'tax_rate': 0.0675, 'tax_amount': 167.84, 'total_amount': 2492.84, 'salesperson': '', 'po_number': '', 'terms': 'Total payment due in 30 days', 'ship_date': '', 'ship_via': '', 'fob': '', 'created_at': '2023-10-11T18:40:00+00:00', 'extraction_confidence': 0.99, 'updated_at': '2025-09-23T22:34:37.264195', 'items': [{'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2023-10-11T18:40:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2023-10-11T18:40:00+00:00'}]}
2025-09-23 22:36:19,727 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 22:36:19,729 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 22:36:19,742 - app.infrastructure.data.csv_manager - INFO - Loaded 1 invoices from CSV
2025-09-23 22:36:19,746 - app.infrastructure.data.csv_manager - INFO - Loaded 1 invoices from CSV
2025-09-23 22:36:19,748 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoice details from CSV
2025-09-23 22:36:19,749 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoice details from CSV
2025-09-23 22:36:19,749 - app.infrastructure.data.csv_manager - INFO - Retrieved 1 invoices with details
2025-09-23 22:36:19,750 - app.infrastructure.data.csv_manager - INFO - Generated statistics: {'total_invoices': 1, 'total_items': 2, 'total_amount': 2492.84, 'last_updated': '2025-09-23T22:36:19.750059', 'files_exist': {'invoices_csv': True, 'details_csv': True}}
2025-09-23 22:36:19,750 - app.presentation.api.v1.endpoints.invoices - INFO - Raw invoices from data manager: 1 invoices
2025-09-23 22:36:19,751 - app.presentation.api.v1.endpoints.invoices - INFO - Sample invoice data: {'id': '123-456', 'invoice_number': '123-456', 'invoice_date': '2014-05-01T00:00:00+00:00', 'customer_id': 123, 'customer_name': '[Company Name]', 'billing_street': '[Street Address]', 'billing_city': '[City]', 'billing_state': '[ST]', 'billing_zip': '[ZIP]', 'billing_phone': '[Phone]', 'shipping_street': '[Street Address]', 'shipping_city': '[City]', 'shipping_state': '[ST]', 'shipping_zip': '[ZIP]', 'shipping_phone': '[Phone]', 'subtotal': 2325.0, 'tax_rate': 0.0675, 'tax_amount': 167.84, 'total_amount': 2492.84, 'salesperson': '', 'po_number': '', 'terms': 'Total payment due in 30 days', 'ship_date': '', 'ship_via': '', 'fob': '', 'created_at': '2023-10-11T18:40:00+00:00', 'extraction_confidence': 0.99, 'updated_at': '2025-09-23T22:34:37.264195', 'items': [{'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2023-10-11T18:40:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2023-10-11T18:40:00+00:00'}]}
2025-09-23 22:36:19,753 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 22:36:19,754 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 22:36:19,758 - app.infrastructure.data.csv_manager - INFO - Loaded 1 invoices from CSV
2025-09-23 22:36:19,762 - app.infrastructure.data.csv_manager - INFO - Loaded 1 invoices from CSV
2025-09-23 22:36:19,766 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoice details from CSV
2025-09-23 22:36:19,766 - app.infrastructure.data.csv_manager - INFO - Generated statistics: {'total_invoices': 1, 'total_items': 2, 'total_amount': 2492.84, 'last_updated': '2025-09-23T22:36:19.766300', 'files_exist': {'invoices_csv': True, 'details_csv': True}}
2025-09-23 22:36:19,774 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoice details from CSV
2025-09-23 22:36:19,774 - app.infrastructure.data.csv_manager - INFO - Retrieved 1 invoices with details
2025-09-23 22:36:19,774 - app.presentation.api.v1.endpoints.invoices - INFO - Raw invoices from data manager: 1 invoices
2025-09-23 22:36:19,774 - app.presentation.api.v1.endpoints.invoices - INFO - Sample invoice data: {'id': '123-456', 'invoice_number': '123-456', 'invoice_date': '2014-05-01T00:00:00+00:00', 'customer_id': 123, 'customer_name': '[Company Name]', 'billing_street': '[Street Address]', 'billing_city': '[City]', 'billing_state': '[ST]', 'billing_zip': '[ZIP]', 'billing_phone': '[Phone]', 'shipping_street': '[Street Address]', 'shipping_city': '[City]', 'shipping_state': '[ST]', 'shipping_zip': '[ZIP]', 'shipping_phone': '[Phone]', 'subtotal': 2325.0, 'tax_rate': 0.0675, 'tax_amount': 167.84, 'total_amount': 2492.84, 'salesperson': '', 'po_number': '', 'terms': 'Total payment due in 30 days', 'ship_date': '', 'ship_via': '', 'fob': '', 'created_at': '2023-10-11T18:40:00+00:00', 'extraction_confidence': 0.99, 'updated_at': '2025-09-23T22:34:37.264195', 'items': [{'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2023-10-11T18:40:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2023-10-11T18:40:00+00:00'}]}
2025-09-23 22:36:21,437 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 22:36:21,438 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 22:36:21,442 - app.infrastructure.data.csv_manager - INFO - Loaded 1 invoices from CSV
2025-09-23 22:36:21,446 - app.infrastructure.data.csv_manager - INFO - Loaded 1 invoices from CSV
2025-09-23 22:36:21,448 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoice details from CSV
2025-09-23 22:36:21,448 - app.infrastructure.data.csv_manager - INFO - Retrieved 1 invoices with details
2025-09-23 22:36:21,448 - app.presentation.api.v1.endpoints.invoices - INFO - Raw invoices from data manager: 1 invoices
2025-09-23 22:36:21,448 - app.presentation.api.v1.endpoints.invoices - INFO - Sample invoice data: {'id': '123-456', 'invoice_number': '123-456', 'invoice_date': '2014-05-01T00:00:00+00:00', 'customer_id': 123, 'customer_name': '[Company Name]', 'billing_street': '[Street Address]', 'billing_city': '[City]', 'billing_state': '[ST]', 'billing_zip': '[ZIP]', 'billing_phone': '[Phone]', 'shipping_street': '[Street Address]', 'shipping_city': '[City]', 'shipping_state': '[ST]', 'shipping_zip': '[ZIP]', 'shipping_phone': '[Phone]', 'subtotal': 2325.0, 'tax_rate': 0.0675, 'tax_amount': 167.84, 'total_amount': 2492.84, 'salesperson': '', 'po_number': '', 'terms': 'Total payment due in 30 days', 'ship_date': '', 'ship_via': '', 'fob': '', 'created_at': '2023-10-11T18:40:00+00:00', 'extraction_confidence': 0.99, 'updated_at': '2025-09-23T22:34:37.264195', 'items': [{'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2023-10-11T18:40:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2023-10-11T18:40:00+00:00'}]}
2025-09-23 22:36:21,449 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoice details from CSV
2025-09-23 22:36:21,449 - app.infrastructure.data.csv_manager - INFO - Generated statistics: {'total_invoices': 1, 'total_items': 2, 'total_amount': 2492.84, 'last_updated': '2025-09-23T22:36:21.449910', 'files_exist': {'invoices_csv': True, 'details_csv': True}}
2025-09-23 22:36:21,451 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 22:36:21,452 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 22:36:21,456 - app.infrastructure.data.csv_manager - INFO - Loaded 1 invoices from CSV
2025-09-23 22:36:21,460 - app.infrastructure.data.csv_manager - INFO - Loaded 1 invoices from CSV
2025-09-23 22:36:21,461 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoice details from CSV
2025-09-23 22:36:21,462 - app.infrastructure.data.csv_manager - INFO - Retrieved 1 invoices with details
2025-09-23 22:36:21,463 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoice details from CSV
2025-09-23 22:36:21,463 - app.presentation.api.v1.endpoints.invoices - INFO - Raw invoices from data manager: 1 invoices
2025-09-23 22:36:21,463 - app.infrastructure.data.csv_manager - INFO - Generated statistics: {'total_invoices': 1, 'total_items': 2, 'total_amount': 2492.84, 'last_updated': '2025-09-23T22:36:21.463409', 'files_exist': {'invoices_csv': True, 'details_csv': True}}
2025-09-23 22:36:21,463 - app.presentation.api.v1.endpoints.invoices - INFO - Sample invoice data: {'id': '123-456', 'invoice_number': '123-456', 'invoice_date': '2014-05-01T00:00:00+00:00', 'customer_id': 123, 'customer_name': '[Company Name]', 'billing_street': '[Street Address]', 'billing_city': '[City]', 'billing_state': '[ST]', 'billing_zip': '[ZIP]', 'billing_phone': '[Phone]', 'shipping_street': '[Street Address]', 'shipping_city': '[City]', 'shipping_state': '[ST]', 'shipping_zip': '[ZIP]', 'shipping_phone': '[Phone]', 'subtotal': 2325.0, 'tax_rate': 0.0675, 'tax_amount': 167.84, 'total_amount': 2492.84, 'salesperson': '', 'po_number': '', 'terms': 'Total payment due in 30 days', 'ship_date': '', 'ship_via': '', 'fob': '', 'created_at': '2023-10-11T18:40:00+00:00', 'extraction_confidence': 0.99, 'updated_at': '2025-09-23T22:34:37.264195', 'items': [{'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2023-10-11T18:40:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2023-10-11T18:40:00+00:00'}]}
2025-09-23 22:37:00,162 - app.presentation.api.v1.endpoints.upload - INFO - File uploaded successfully: 94c5a801-857f-41f4-a4ec-016c5e19642e_invoice-pdf-sample.png (83448 bytes)
2025-09-23 22:37:00,175 - app.infrastructure.ai.openai_client - INFO - Initialized OpenAI client with model: gpt-4o-2024-11-20
2025-09-23 22:37:00,175 - app.infrastructure.ai.openai_client - INFO - Starting extraction for document 94c5a801-857f-41f4-a4ec-016c5e19642e
2025-09-23 22:37:13,926 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 22:37:13,935 - app.infrastructure.ai.openai_client - INFO - Successfully extracted data for invoice: 1475 in 13.76s
2025-09-23 22:37:13,937 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 22:37:13,941 - app.infrastructure.data.csv_manager - INFO - Saved invoice 1475 with ID 1475
2025-09-23 22:37:13,942 - app.presentation.api.v1.endpoints.extraction - INFO - Successfully extracted and saved invoice: 1475
2025-09-23 22:37:13,942 - app.presentation.api.v1.endpoints.extraction - INFO - Invoice dict being sent to frontend: {'id': '1475', 'invoice_number': '1475', 'invoice_date': '2022-01-25T00:00:00+00:00', 'customer_id': '648', 'customer_name': 'ActiveWear Sports Inc', 'billing_address': {'street': '11505 Sample St', 'city': 'North Potomac', 'state': 'Maryland', 'zip_code': '20878', 'phone': ''}, 'shipping_address': {'street': '11505 Sample St', 'city': 'North Potomac', 'state': 'Maryland', 'zip_code': '20878', 'phone': ''}, 'items': [{'id': '1', 'item_number': '6545875', 'description': 'Chuck Leather All Star Low (Variation: 1488641)', 'quantity': 1, 'unit_price': 45.0, 'total': 45.0}, {'id': '2', 'item_number': '6548465', 'description': 'Reactive Infinity Runner (Variation: 1488580, Colour: Black / White, Style: Runner)', 'quantity': 1, 'unit_price': 65.0, 'total': 65.0}], 'subtotal': 110.0, 'tax_rate': 0.12, 'tax': 13.2, 'total': 123.2, 'salesperson': '', 'po_number': '', 'terms': '', 'ship_date': '', 'ship_via': '', 'fob': '', 'created_at': '2023-10-10T00:00:00+00:00', 'updated_at': '', 'extraction_confidence': 0.99}
2025-09-23 22:37:14,032 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 22:37:14,041 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoices from CSV
2025-09-23 22:37:14,042 - app.infrastructure.data.csv_manager - INFO - Loaded 4 invoice details from CSV
2025-09-23 22:37:14,042 - app.infrastructure.data.csv_manager - INFO - Retrieved 2 invoices with details
2025-09-23 22:37:14,042 - app.infrastructure.data.csv_manager - INFO - Found invoice with ID: 1475
2025-09-23 22:37:14,044 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 22:37:14,048 - app.infrastructure.data.csv_manager - INFO - Loaded 2 invoices from CSV
2025-09-23 22:37:14,050 - app.infrastructure.data.csv_manager - INFO - Loaded 4 invoice details from CSV
2025-09-23 22:37:14,050 - app.infrastructure.data.csv_manager - INFO - Retrieved 2 invoices with details
2025-09-23 22:37:14,050 - app.infrastructure.data.csv_manager - INFO - Found invoice with ID: 1475
2025-09-23 22:43:14,652 - werkzeug - WARNING -  * Debugger is active!
2025-09-23 22:43:16,819 - app.presentation.api.v1.endpoints.upload - INFO - File uploaded successfully: f517dc11-5338-4ff8-a732-497b17fea0cf_Sales_Invoice.png (30753 bytes)
2025-09-23 22:43:16,836 - app.infrastructure.ai.openai_client - INFO - Initialized OpenAI client with model: gpt-4o-2024-11-20
2025-09-23 22:43:16,836 - app.infrastructure.ai.openai_client - INFO - Starting extraction for document f517dc11-5338-4ff8-a732-497b17fea0cf
2025-09-23 22:43:27,448 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 22:43:27,460 - app.infrastructure.ai.openai_client - INFO - Successfully extracted data for invoice: 123-456 in 10.62s
2025-09-23 22:43:27,462 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 22:43:27,469 - app.infrastructure.data.csv_manager - INFO - Saved invoice 123-456 with ID 123-456
2025-09-23 22:43:27,469 - app.presentation.api.v1.endpoints.extraction - INFO - Successfully extracted and saved invoice: 123-456
2025-09-23 22:43:27,469 - app.presentation.api.v1.endpoints.extraction - INFO - Invoice dict being sent to frontend: {'id': '123-456', 'invoice_number': '123-456', 'invoice_date': '2014-05-01T00:00:00+00:00', 'customer_id': '123', 'customer_name': '[Company Name]', 'billing_address': {'street': '[Street Address]', 'city': '[City]', 'state': '[ST]', 'zip_code': '[ZIP]', 'phone': '[Phone]'}, 'shipping_address': {'street': '[Street Address]', 'city': '[City]', 'state': '[ST]', 'zip_code': '[ZIP]', 'phone': '[Phone]'}, 'items': [{'id': '1', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'total': 2250.0}, {'id': '2', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'total': 75.0}], 'subtotal': 2325.0, 'tax_rate': 0.0675, 'tax': 157.84, 'total': 2482.84, 'salesperson': '', 'po_number': '', 'terms': 'Total payment due in 30 days', 'ship_date': '', 'ship_via': '', 'fob': '', 'created_at': '2023-10-11T18:42:00+00:00', 'updated_at': '', 'extraction_confidence': 0.99}
2025-09-23 22:43:37,993 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 22:43:37,994 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 22:43:38,008 - app.infrastructure.data.csv_manager - INFO - Loaded 3 invoices from CSV
2025-09-23 22:43:38,009 - app.infrastructure.data.csv_manager - INFO - Loaded 3 invoices from CSV
2025-09-23 22:43:38,011 - app.infrastructure.data.csv_manager - INFO - Loaded 6 invoice details from CSV
2025-09-23 22:43:38,012 - app.infrastructure.data.csv_manager - INFO - Loaded 6 invoice details from CSV
2025-09-23 22:43:38,012 - app.infrastructure.data.csv_manager - INFO - Retrieved 3 invoices with details
2025-09-23 22:43:38,013 - app.infrastructure.data.csv_manager - INFO - Generated statistics: {'total_invoices': 3, 'total_items': 6, 'total_amount': 5098.88, 'last_updated': '2025-09-23T22:43:38.012927', 'files_exist': {'invoices_csv': True, 'details_csv': True}}
2025-09-23 22:43:38,013 - app.presentation.api.v1.endpoints.invoices - INFO - Raw invoices from data manager: 3 invoices
2025-09-23 22:43:38,013 - app.presentation.api.v1.endpoints.invoices - INFO - Sample invoice data: {'id': '123-456', 'invoice_number': '123-456', 'invoice_date': '2014-05-01T00:00:00+00:00', 'customer_id': 123, 'customer_name': '[Company Name]', 'billing_street': '[Street Address]', 'billing_city': '[City]', 'billing_state': '[ST]', 'billing_zip': '[ZIP]', 'billing_phone': '[Phone]', 'shipping_street': '[Street Address]', 'shipping_city': '[City]', 'shipping_state': '[ST]', 'shipping_zip': '[ZIP]', 'shipping_phone': '[Phone]', 'subtotal': 2325.0, 'tax_rate': 0.0675, 'tax_amount': 167.84, 'total_amount': 2492.84, 'salesperson': '', 'po_number': '', 'terms': 'Total payment due in 30 days', 'ship_date': '', 'ship_via': '', 'fob': '', 'created_at': '2023-10-11T18:40:00+00:00', 'extraction_confidence': 0.99, 'updated_at': '2025-09-23T22:34:37.264195', 'items': [{'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2023-10-11T18:40:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2023-10-11T18:40:00+00:00'}, {'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2023-10-11T18:42:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2023-10-11T18:42:00+00:00'}]}
2025-09-23 22:43:41,462 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 22:43:41,463 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 22:43:41,468 - app.infrastructure.data.csv_manager - INFO - Loaded 3 invoices from CSV
2025-09-23 22:43:41,472 - app.infrastructure.data.csv_manager - INFO - Loaded 3 invoices from CSV
2025-09-23 22:43:41,474 - app.infrastructure.data.csv_manager - INFO - Loaded 6 invoice details from CSV
2025-09-23 22:43:41,474 - app.infrastructure.data.csv_manager - INFO - Retrieved 3 invoices with details
2025-09-23 22:43:41,474 - app.presentation.api.v1.endpoints.invoices - INFO - Raw invoices from data manager: 3 invoices
2025-09-23 22:43:41,474 - app.presentation.api.v1.endpoints.invoices - INFO - Sample invoice data: {'id': '123-456', 'invoice_number': '123-456', 'invoice_date': '2014-05-01T00:00:00+00:00', 'customer_id': 123, 'customer_name': '[Company Name]', 'billing_street': '[Street Address]', 'billing_city': '[City]', 'billing_state': '[ST]', 'billing_zip': '[ZIP]', 'billing_phone': '[Phone]', 'shipping_street': '[Street Address]', 'shipping_city': '[City]', 'shipping_state': '[ST]', 'shipping_zip': '[ZIP]', 'shipping_phone': '[Phone]', 'subtotal': 2325.0, 'tax_rate': 0.0675, 'tax_amount': 167.84, 'total_amount': 2492.84, 'salesperson': '', 'po_number': '', 'terms': 'Total payment due in 30 days', 'ship_date': '', 'ship_via': '', 'fob': '', 'created_at': '2023-10-11T18:40:00+00:00', 'extraction_confidence': 0.99, 'updated_at': '2025-09-23T22:34:37.264195', 'items': [{'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2023-10-11T18:40:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2023-10-11T18:40:00+00:00'}, {'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2023-10-11T18:42:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2023-10-11T18:42:00+00:00'}]}
2025-09-23 22:43:41,475 - app.infrastructure.data.csv_manager - INFO - Loaded 6 invoice details from CSV
2025-09-23 22:43:41,476 - app.infrastructure.data.csv_manager - INFO - Generated statistics: {'total_invoices': 3, 'total_items': 6, 'total_amount': 5098.88, 'last_updated': '2025-09-23T22:43:41.476218', 'files_exist': {'invoices_csv': True, 'details_csv': True}}
2025-09-23 22:43:48,406 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 22:43:48,412 - app.infrastructure.data.csv_manager - INFO - Loaded 3 invoices from CSV
2025-09-23 22:43:48,414 - app.infrastructure.data.csv_manager - INFO - Loaded 6 invoice details from CSV
2025-09-23 22:43:48,414 - app.infrastructure.data.csv_manager - INFO - Retrieved 3 invoices with details
2025-09-23 22:43:48,414 - app.infrastructure.data.csv_manager - INFO - Found invoice with ID: 123-456
2025-09-23 22:43:59,637 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 22:43:59,646 - app.infrastructure.data.csv_manager - INFO - Loaded 3 invoices from CSV
2025-09-23 22:43:59,648 - app.infrastructure.data.csv_manager - INFO - Loaded 6 invoice details from CSV
2025-09-23 22:43:59,649 - app.infrastructure.data.csv_manager - INFO - Retrieved 3 invoices with details
2025-09-23 22:43:59,649 - app.infrastructure.data.csv_manager - INFO - Found invoice with ID: 123-456
2025-09-23 22:43:59,657 - app.infrastructure.data.csv_manager - INFO - Updated invoice with ID: 123-456
2025-09-23 22:43:59,662 - app.infrastructure.data.csv_manager - INFO - Loaded 3 invoices from CSV
2025-09-23 22:43:59,664 - app.infrastructure.data.csv_manager - INFO - Loaded 6 invoice details from CSV
2025-09-23 22:43:59,664 - app.infrastructure.data.csv_manager - INFO - Retrieved 3 invoices with details
2025-09-23 22:43:59,664 - app.infrastructure.data.csv_manager - INFO - Found invoice with ID: 123-456
2025-09-23 22:44:11,867 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 22:44:11,874 - app.infrastructure.data.csv_manager - INFO - Loaded 3 invoices from CSV
2025-09-23 22:44:11,876 - app.infrastructure.data.csv_manager - INFO - Loaded 6 invoice details from CSV
2025-09-23 22:44:11,876 - app.infrastructure.data.csv_manager - INFO - Retrieved 3 invoices with details
2025-09-23 22:44:11,876 - app.infrastructure.data.csv_manager - INFO - Found invoice with ID: 123-456
2025-09-23 22:44:11,882 - app.infrastructure.data.csv_manager - INFO - Updated invoice with ID: 123-456
2025-09-23 22:44:11,888 - app.infrastructure.data.csv_manager - INFO - Loaded 3 invoices from CSV
2025-09-23 22:44:11,890 - app.infrastructure.data.csv_manager - INFO - Loaded 6 invoice details from CSV
2025-09-23 22:44:11,890 - app.infrastructure.data.csv_manager - INFO - Retrieved 3 invoices with details
2025-09-23 22:44:11,890 - app.infrastructure.data.csv_manager - INFO - Found invoice with ID: 123-456
2025-09-23 22:44:16,996 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 22:44:16,996 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 22:44:17,002 - app.infrastructure.data.csv_manager - INFO - Loaded 3 invoices from CSV
2025-09-23 22:44:17,007 - app.infrastructure.data.csv_manager - INFO - Loaded 3 invoices from CSV
2025-09-23 22:44:17,009 - app.infrastructure.data.csv_manager - INFO - Loaded 6 invoice details from CSV
2025-09-23 22:44:17,010 - app.infrastructure.data.csv_manager - INFO - Generated statistics: {'total_invoices': 3, 'total_items': 6, 'total_amount': 283.4958, 'last_updated': '2025-09-23T22:44:17.009866', 'files_exist': {'invoices_csv': True, 'details_csv': True}}
2025-09-23 22:44:17,011 - app.infrastructure.data.csv_manager - INFO - Loaded 6 invoice details from CSV
2025-09-23 22:44:17,011 - app.infrastructure.data.csv_manager - INFO - Retrieved 3 invoices with details
2025-09-23 22:44:17,012 - app.presentation.api.v1.endpoints.invoices - INFO - Raw invoices from data manager: 3 invoices
2025-09-23 22:44:17,012 - app.presentation.api.v1.endpoints.invoices - INFO - Sample invoice data: {'id': '123-456', 'invoice_number': '123-456', 'invoice_date': '2014-05-01T00:00:00+00:00', 'customer_id': 123, 'customer_name': 'yolo', 'billing_street': '[Street Address]', 'billing_city': '[City]', 'billing_state': '[ST]', 'billing_zip': '[ZIP]', 'billing_phone': '[Phone]', 'shipping_street': '[Street Address]', 'shipping_city': '[City]', 'shipping_state': '[ST]', 'shipping_zip': '[ZIP]', 'shipping_phone': '[Phone]', 'subtotal': 75.08, 'tax_rate': 0.0675, 'tax_amount': 5.0679, 'total_amount': 80.14789999999999, 'salesperson': '', 'po_number': '', 'terms': 'Total payment due in 30 days', 'ship_date': '', 'ship_via': '', 'fob': '', 'created_at': '2023-10-11T18:40:00+00:00', 'extraction_confidence': 0.99, 'updated_at': '2025-09-23T22:44:11.882196', 'items': [{'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2023-10-11T18:40:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2023-10-11T18:40:00+00:00'}, {'id': 1, 'invoice_id': '123-456', 'item_number': '[23423423]', 'description': 'Product XYZ', 'quantity': 15, 'unit_price': 150.0, 'line_total': 2250.0, 'created_at': '2023-10-11T18:42:00+00:00'}, {'id': 2, 'invoice_id': '123-456', 'item_number': '[45645645]', 'description': 'Product ABC', 'quantity': 1, 'unit_price': 75.0, 'line_total': 75.0, 'created_at': '2023-10-11T18:42:00+00:00'}]}
2025-09-23 22:49:26,944 - app.presentation.api.v1.endpoints.upload - INFO - File uploaded successfully: 4b10d150-7907-44b5-9d33-2c0021e5d335_invoice-pdf-sample.png (83448 bytes)
2025-09-23 22:49:26,962 - app.infrastructure.ai.openai_client - INFO - Initialized OpenAI client with model: gpt-4o-2024-11-20
2025-09-23 22:49:26,962 - app.infrastructure.ai.openai_client - INFO - Starting extraction for document 4b10d150-7907-44b5-9d33-2c0021e5d335
2025-09-23 22:49:41,422 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 22:49:41,429 - app.infrastructure.ai.openai_client - INFO - Successfully extracted data for invoice: 1475 in 14.47s
2025-09-23 22:49:41,431 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 22:49:41,438 - app.infrastructure.data.csv_manager - INFO - Saved invoice 1475 with ID 05-1475
2025-09-23 22:49:41,439 - app.presentation.api.v1.endpoints.extraction - INFO - Successfully extracted and saved invoice: 05-1475
2025-09-23 22:49:41,439 - app.presentation.api.v1.endpoints.extraction - INFO - Invoice dict being sent to frontend: {'id': '05-1475', 'invoice_number': '1475', 'invoice_date': '2022-01-25T00:00:00+00:00', 'customer_id': '648', 'customer_name': 'ActiveWear Sports Inc', 'billing_address': {'street': '11505 Sample St', 'city': 'North Potomac', 'state': 'Maryland', 'zip_code': '20878', 'phone': ''}, 'shipping_address': {'street': '11505 Sample St', 'city': 'North Potomac', 'state': 'Maryland', 'zip_code': '20878', 'phone': ''}, 'items': [{'id': '1', 'item_number': '6545875', 'description': 'Chuck Leather All Star Low - Variation: 1488641', 'quantity': 1, 'unit_price': 45.0, 'total': 45.0}, {'id': '2', 'item_number': '6548465', 'description': 'Reactive Infinity Runner - Variation: 1488580, Colour: Black / White, Style: Runner', 'quantity': 1, 'unit_price': 65.0, 'total': 65.0}], 'subtotal': 110.0, 'tax_rate': 0.12, 'tax': 13.2, 'total': 123.2, 'salesperson': '', 'po_number': '', 'terms': '', 'ship_date': '', 'ship_via': '', 'fob': '', 'created_at': '2023-10-11T18:25:00+00:00', 'updated_at': '', 'extraction_confidence': 0.99}
2025-09-23 22:49:41,475 - app.infrastructure.data.csv_manager - INFO - Initialized CSV data manager with data directory: data
2025-09-23 22:49:41,482 - app.infrastructure.data.csv_manager - INFO - Loaded 4 invoices from CSV
2025-09-23 22:49:41,483 - app.infrastructure.data.csv_manager - INFO - Loaded 8 invoice details from CSV
2025-09-23 22:49:41,483 - app.infrastructure.data.csv_manager - INFO - Retrieved 4 invoices with details
2025-09-23 22:49:41,483 - app.infrastructure.data.csv_manager - INFO - Found invoice with ID: 05-1475
2025-09-24 09:17:54,914 - werkzeug - WARNING -  * Debugger is active!
2025-09-24 12:36:50,047 - werkzeug - WARNING -  * Debugger is active!
